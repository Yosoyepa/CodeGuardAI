<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1312px" preserveAspectRatio="none" style="width:4382px;height:1312px;background:#FFFFFF;" version="1.1" viewBox="0 0 4382 1312" width="4382px" zoomAndPan="magnify"><title>Infrastructure Layer - Repositories &amp; External Services</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="433.3506" x="1967.7334" y="22.9951">Infrastructure Layer - Repositories &amp; External Services</text><!--class ICodeReviewRepository--><g id="elem_ICodeReviewRepository"><rect codeLine="15" fill="#F0FFF4" height="129.4844" id="ICodeReviewRepository" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="440.0254" x="312.5" y="44.2969"/><ellipse cx="463.1973" cy="60.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M459.1191,56.0625 L459.1191,53.9063 L466.5098,53.9063 L466.5098,56.0625 L464.041,56.0625 L464.041,64.1406 L466.5098,64.1406 L466.5098,66.2969 L459.1191,66.2969 L459.1191,64.1406 L461.5879,64.1406 L461.5879,56.0625 L459.1191,56.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="130.1309" x="483.6973" y="64.105">ICodeReviewRepository</text><line style="stroke:#059669;stroke-width:0.5;" x1="313.5" x2="751.5254" y1="76.2969" y2="76.2969"/><line style="stroke:#059669;stroke-width:0.5;" x1="313.5" x2="751.5254" y1="84.2969" y2="84.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305.1836" x="318.5" y="101.292">+create(review: CodeReview): CodeReview</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="369.8379" x="318.5" y="117.5889">+find_by_id(review_id: UUID): Optional[CodeReview]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="405.7266" x="318.5" y="133.8857">+find_by_user(user_id: str, filters: Dict): List[CodeReview]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="428.0254" x="318.5" y="150.1826">+update_status(review_id: UUID, status: ReviewStatus): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216.5078" x="318.5" y="166.4795">+delete(review_id: UUID): void</text></g><!--class IAgentFindingRepository--><g id="elem_IAgentFindingRepository"><rect codeLine="23" fill="#F0FFF4" height="113.1875" id="IAgentFindingRepository" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="487.6104" x="1649.5" y="52.2969"/><ellipse cx="1821.4868" cy="68.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1817.4087,64.0625 L1817.4087,61.9063 L1824.7993,61.9063 L1824.7993,64.0625 L1822.3306,64.0625 L1822.3306,72.1406 L1824.7993,72.1406 L1824.7993,74.2969 L1817.4087,74.2969 L1817.4087,72.1406 L1819.8774,72.1406 L1819.8774,64.0625 L1817.4087,64.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="135.1367" x="1841.9868" y="72.105">IAgentFindingRepository</text><line style="stroke:#059669;stroke-width:0.5;" x1="1650.5" x2="2136.1104" y1="84.2969" y2="84.2969"/><line style="stroke:#059669;stroke-width:0.5;" x1="1650.5" x2="2136.1104" y1="92.2969" y2="92.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="424.0127" x="1655.5" y="109.292">+create_batch(findings: List[Finding], review_id: UUID): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="333.8809" x="1655.5" y="125.5889">+find_by_review(review_id: UUID): List[Finding]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="475.6104" x="1655.5" y="141.8857">+find_by_severity(review_id: UUID, severity: Severity): List[Finding]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="338.3584" x="1655.5" y="158.1826">+count_by_agent(review_id: UUID): Dict[str, int]</text></g><!--class IUserRepository--><g id="elem_IUserRepository"><rect codeLine="30" fill="#F0FFF4" height="129.4844" id="IUserRepository" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="324.0059" x="2172.5" y="44.2969"/><ellipse cx="2286.6021" cy="60.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2282.5239,56.0625 L2282.5239,53.9063 L2289.9146,53.9063 L2289.9146,56.0625 L2287.4458,56.0625 L2287.4458,64.1406 L2289.9146,64.1406 L2289.9146,66.2969 L2282.5239,66.2969 L2282.5239,64.1406 L2284.9927,64.1406 L2284.9927,56.0625 L2282.5239,56.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="87.3018" x="2307.1021" y="64.105">IUserRepository</text><line style="stroke:#059669;stroke-width:0.5;" x1="2173.5" x2="2495.5059" y1="76.2969" y2="76.2969"/><line style="stroke:#059669;stroke-width:0.5;" x1="2173.5" x2="2495.5059" y1="84.2969" y2="84.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.0928" x="2178.5" y="101.292">+create(user: User): User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282.3926" x="2178.5" y="117.5889">+find_by_id(user_id: str): Optional[User]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="296.5225" x="2178.5" y="133.8857">+find_by_email(email: str): Optional[User]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="312.0059" x="2178.5" y="150.1826">+update_quota(user_id: str, count: int): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240.8574" x="2178.5" y="166.4795">+get_daily_usage(user_id: str): int</text></g><!--class IConfigRepository--><g id="elem_IConfigRepository"><rect codeLine="38" fill="#F0FFF4" height="129.4844" id="IConfigRepository" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="457.1904" x="2532" y="44.2969"/><ellipse cx="2707.5837" cy="60.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2703.5056,56.0625 L2703.5056,53.9063 L2710.8962,53.9063 L2710.8962,56.0625 L2708.4275,56.0625 L2708.4275,64.1406 L2710.8962,64.1406 L2710.8962,66.2969 L2703.5056,66.2969 L2703.5056,64.1406 L2705.9744,64.1406 L2705.9744,56.0625 L2703.5056,56.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="97.5229" x="2728.0837" y="64.105">IConfigRepository</text><line style="stroke:#059669;stroke-width:0.5;" x1="2533" x2="2988.1904" y1="76.2969" y2="76.2969"/><line style="stroke:#059669;stroke-width:0.5;" x1="2533" x2="2988.1904" y1="84.2969" y2="84.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="445.1904" x="2538" y="101.292">+save_agent_config(agent_type: str, config: AgentConfig): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="414.9893" x="2538" y="117.5889">+get_agent_config(agent_type: str): Optional[AgentConfig]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287.8818" x="2538" y="133.8857">+get_all_configs(): Dict[str, AgentConfig]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274.1621" x="2538" y="150.1826">+save_ai_config(config: AIConfig): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="252.8613" x="2538" y="166.4795">+get_ai_config(): Optional[AIConfig]</text></g><!--class CodeReviewRepository--><g id="elem_CodeReviewRepository"><rect codeLine="49" fill="#F0FFF4" height="243.5625" id="CodeReviewRepository" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="440.0254" x="312.5" y="250.2969"/><ellipse cx="464.8193" cy="266.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M467.7881,271.9375 Q467.21,272.2344 466.5693,272.375 Q465.9287,272.5313 465.2256,272.5313 Q462.7256,272.5313 461.3975,270.8906 Q460.085,269.2344 460.085,266.1094 Q460.085,262.9844 461.3975,261.3281 Q462.7256,259.6719 465.2256,259.6719 Q465.9287,259.6719 466.5693,259.8281 Q467.2256,259.9844 467.7881,260.2813 L467.7881,263 Q467.1631,262.4219 466.5693,262.1563 Q465.9756,261.875 465.3506,261.875 Q464.0068,261.875 463.3193,262.9531 Q462.6318,264.0156 462.6318,266.1094 Q462.6318,268.2031 463.3193,269.2813 Q464.0068,270.3438 465.3506,270.3438 Q465.9756,270.3438 466.5693,270.0781 Q467.1631,269.7969 467.7881,269.2188 L467.7881,271.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126.8867" x="485.3193" y="270.105">CodeReviewRepository</text><line style="stroke:#059669;stroke-width:0.5;" x1="313.5" x2="751.5254" y1="282.2969" y2="282.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.458" x="318.5" y="299.292">-session: Session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.6045" x="318.5" y="315.5889">-encryptor: AESEncryptor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.3242" x="318.5" y="331.8857">-logger: Logger</text><line style="stroke:#059669;stroke-width:0.5;" x1="313.5" x2="751.5254" y1="339.1875" y2="339.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305.1836" x="318.5" y="356.1826">+create(review: CodeReview): CodeReview</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="369.8379" x="318.5" y="372.4795">+find_by_id(review_id: UUID): Optional[CodeReview]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="405.7266" x="318.5" y="388.7764">+find_by_user(user_id: str, filters: Dict): List[CodeReview]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="428.0254" x="318.5" y="405.0732">+update_status(review_id: UUID, status: ReviewStatus): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216.5078" x="318.5" y="421.3701">+delete(review_id: UUID): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287.1436" x="318.5" y="437.667">-_encrypt_code_content(code: str): bytes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="324.4951" x="318.5" y="453.9639">-_decrypt_code_content(encrypted: bytes): str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="369.1475" x="318.5" y="470.2607">-_to_domain(entity: CodeReviewEntity): CodeReview</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="363.3232" x="318.5" y="486.5576">-_to_entity(review: CodeReview): CodeReviewEntity</text></g><!--class AgentFindingRepository--><g id="elem_AgentFindingRepository"><rect codeLine="65" fill="#F0FFF4" height="178.375" id="AgentFindingRepository" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="487.6104" x="1649.5" y="283.2969"/><ellipse cx="1823.1089" cy="299.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1826.0776,304.9375 Q1825.4995,305.2344 1824.8589,305.375 Q1824.2183,305.5313 1823.5151,305.5313 Q1821.0151,305.5313 1819.687,303.8906 Q1818.3745,302.2344 1818.3745,299.1094 Q1818.3745,295.9844 1819.687,294.3281 Q1821.0151,292.6719 1823.5151,292.6719 Q1824.2183,292.6719 1824.8589,292.8281 Q1825.5151,292.9844 1826.0776,293.2813 L1826.0776,296 Q1825.4526,295.4219 1824.8589,295.1563 Q1824.2651,294.875 1823.6401,294.875 Q1822.2964,294.875 1821.6089,295.9531 Q1820.9214,297.0156 1820.9214,299.1094 Q1820.9214,301.2031 1821.6089,302.2813 Q1822.2964,303.3438 1823.6401,303.3438 Q1824.2651,303.3438 1824.8589,303.0781 Q1825.4526,302.7969 1826.0776,302.2188 L1826.0776,304.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="131.8926" x="1843.6089" y="303.105">AgentFindingRepository</text><line style="stroke:#059669;stroke-width:0.5;" x1="1650.5" x2="2136.1104" y1="315.2969" y2="315.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.458" x="1655.5" y="332.292">-session: Session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.3242" x="1655.5" y="348.5889">-logger: Logger</text><line style="stroke:#059669;stroke-width:0.5;" x1="1650.5" x2="2136.1104" y1="355.8906" y2="355.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="424.0127" x="1655.5" y="372.8857">+create_batch(findings: List[Finding], review_id: UUID): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="333.8809" x="1655.5" y="389.1826">+find_by_review(review_id: UUID): List[Finding]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="475.6104" x="1655.5" y="405.4795">+find_by_severity(review_id: UUID, severity: Severity): List[Finding]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="338.3584" x="1655.5" y="421.7764">+count_by_agent(review_id: UUID): Dict[str, int]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="340.4502" x="1655.5" y="438.0732">-_to_domain(entity: AgentFindingEntity): Finding</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="456.1006" x="1655.5" y="454.3701">-_to_entity(finding: Finding, review_id: UUID): AgentFindingEntity</text></g><!--class UserRepository--><g id="elem_UserRepository"><rect codeLine="77" fill="#F0FFF4" height="194.6719" id="UserRepository" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="324.0059" x="2172.5" y="274.7969"/><ellipse cx="2288.2241" cy="290.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2291.1929,296.4375 Q2290.6147,296.7344 2289.9741,296.875 Q2289.3335,297.0313 2288.6304,297.0313 Q2286.1304,297.0313 2284.8022,295.3906 Q2283.4897,293.7344 2283.4897,290.6094 Q2283.4897,287.4844 2284.8022,285.8281 Q2286.1304,284.1719 2288.6304,284.1719 Q2289.3335,284.1719 2289.9741,284.3281 Q2290.6304,284.4844 2291.1929,284.7813 L2291.1929,287.5 Q2290.5679,286.9219 2289.9741,286.6563 Q2289.3804,286.375 2288.7554,286.375 Q2287.4116,286.375 2286.7241,287.4531 Q2286.0366,288.5156 2286.0366,290.6094 Q2286.0366,292.7031 2286.7241,293.7813 Q2287.4116,294.8438 2288.7554,294.8438 Q2289.3804,294.8438 2289.9741,294.5781 Q2290.5679,294.2969 2291.1929,293.7188 L2291.1929,296.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84.0576" x="2308.7241" y="294.605">UserRepository</text><line style="stroke:#059669;stroke-width:0.5;" x1="2173.5" x2="2495.5059" y1="306.7969" y2="306.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.458" x="2178.5" y="323.792">-session: Session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.3242" x="2178.5" y="340.0889">-logger: Logger</text><line style="stroke:#059669;stroke-width:0.5;" x1="2173.5" x2="2495.5059" y1="347.3906" y2="347.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.0928" x="2178.5" y="364.3857">+create(user: User): User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282.3926" x="2178.5" y="380.6826">+find_by_id(user_id: str): Optional[User]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="296.5225" x="2178.5" y="396.9795">+find_by_email(email: str): Optional[User]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="312.0059" x="2178.5" y="413.2764">+update_quota(user_id: str, count: int): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240.8574" x="2178.5" y="429.5732">+get_daily_usage(user_id: str): int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260.1279" x="2178.5" y="445.8701">-_to_domain(entity: UserEntity): User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.2324" x="2178.5" y="462.167">-_to_entity(user: User): UserEntity</text></g><!--class ConfigRepository--><g id="elem_ConfigRepository"><rect codeLine="90" fill="#F0FFF4" height="194.6719" id="ConfigRepository" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="457.1904" x="2532" y="274.7969"/><ellipse cx="2709.2058" cy="290.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2712.1746,296.4375 Q2711.5964,296.7344 2710.9558,296.875 Q2710.3152,297.0313 2709.6121,297.0313 Q2707.1121,297.0313 2705.7839,295.3906 Q2704.4714,293.7344 2704.4714,290.6094 Q2704.4714,287.4844 2705.7839,285.8281 Q2707.1121,284.1719 2709.6121,284.1719 Q2710.3152,284.1719 2710.9558,284.3281 Q2711.6121,284.4844 2712.1746,284.7813 L2712.1746,287.5 Q2711.5496,286.9219 2710.9558,286.6563 Q2710.3621,286.375 2709.7371,286.375 Q2708.3933,286.375 2707.7058,287.4531 Q2707.0183,288.5156 2707.0183,290.6094 Q2707.0183,292.7031 2707.7058,293.7813 Q2708.3933,294.8438 2709.7371,294.8438 Q2710.3621,294.8438 2710.9558,294.5781 Q2711.5496,294.2969 2712.1746,293.7188 L2712.1746,296.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94.2788" x="2729.7058" y="294.605">ConfigRepository</text><line style="stroke:#059669;stroke-width:0.5;" x1="2533" x2="2988.1904" y1="306.7969" y2="306.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.458" x="2538" y="323.792">-session: Session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.6279" x="2538" y="340.0889">-cache: RedisCache</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.3242" x="2538" y="356.3857">-logger: Logger</text><line style="stroke:#059669;stroke-width:0.5;" x1="2533" x2="2988.1904" y1="363.6875" y2="363.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="445.1904" x="2538" y="380.6826">+save_agent_config(agent_type: str, config: AgentConfig): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="414.9893" x="2538" y="396.9795">+get_agent_config(agent_type: str): Optional[AgentConfig]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287.8818" x="2538" y="413.2764">+get_all_configs(): Dict[str, AgentConfig]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274.1621" x="2538" y="429.5732">+save_ai_config(config: AIConfig): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="252.8613" x="2538" y="445.8701">+get_ai_config(): Optional[AIConfig]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231.916" x="2538" y="462.167">-_invalidate_cache(key: str): void</text></g><!--class MetricsRepository--><g id="elem_MetricsRepository"><rect codeLine="103" fill="#F0FFF4" height="129.4844" id="MetricsRepository" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="493.5576" x="1120.5" y="307.7969"/><ellipse cx="1313.5718" cy="323.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1316.5405,329.4375 Q1315.9624,329.7344 1315.3218,329.875 Q1314.6812,330.0313 1313.978,330.0313 Q1311.478,330.0313 1310.1499,328.3906 Q1308.8374,326.7344 1308.8374,323.6094 Q1308.8374,320.4844 1310.1499,318.8281 Q1311.478,317.1719 1313.978,317.1719 Q1314.6812,317.1719 1315.3218,317.3281 Q1315.978,317.4844 1316.5405,317.7813 L1316.5405,320.5 Q1315.9155,319.9219 1315.3218,319.6563 Q1314.728,319.375 1314.103,319.375 Q1312.7593,319.375 1312.0718,320.4531 Q1311.3843,321.5156 1311.3843,323.6094 Q1311.3843,325.7031 1312.0718,326.7813 Q1312.7593,327.8438 1314.103,327.8438 Q1314.728,327.8438 1315.3218,327.5781 Q1315.9155,327.2969 1316.5405,326.7188 L1316.5405,329.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98.9141" x="1334.0718" y="327.605">MetricsRepository</text><line style="stroke:#059669;stroke-width:0.5;" x1="1121.5" x2="1613.0576" y1="339.7969" y2="339.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.458" x="1126.5" y="356.792">-session: Session</text><line style="stroke:#059669;stroke-width:0.5;" x1="1121.5" x2="1613.0576" y1="364.0938" y2="364.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="464.9805" x="1126.5" y="381.0889">+record_ai_usage(review_id: UUID, metrics: AIUsageMetrics): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="434.9092" x="1126.5" y="397.3857">+record_mcp_log(finding_id: UUID, log: MCPContextLog): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="460.3594" x="1126.5" y="413.6826">+get_cost_metrics(date_range: DateRange): List[AIUsageMetrics]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="481.5576" x="1126.5" y="429.9795">+get_team_metrics(user_ids: List[str], date_range: DateRange): Dict</text></g><!--class CodeReviewEntity--><g id="elem_CodeReviewEntity"><rect codeLine="115" fill="#F0FFF4" height="284.1563" id="CodeReviewEntity" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="732.7539" x="7" y="571.2969"/><ellipse cx="319.1194" cy="587.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M322.0881,592.9375 Q321.51,593.2344 320.8694,593.375 Q320.2288,593.5313 319.5256,593.5313 Q317.0256,593.5313 315.6975,591.8906 Q314.385,590.2344 314.385,587.1094 Q314.385,583.9844 315.6975,582.3281 Q317.0256,580.6719 319.5256,580.6719 Q320.2288,580.6719 320.8694,580.8281 Q321.5256,580.9844 322.0881,581.2813 L322.0881,584 Q321.4631,583.4219 320.8694,583.1563 Q320.2756,582.875 319.6506,582.875 Q318.3069,582.875 317.6194,583.9531 Q316.9319,585.0156 316.9319,587.1094 Q316.9319,589.2031 317.6194,590.2813 Q318.3069,591.3438 319.6506,591.3438 Q320.2756,591.3438 320.8694,591.0781 Q321.4631,590.7969 322.0881,590.2188 L322.0881,592.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100.0151" x="339.6194" y="591.105">CodeReviewEntity</text><line style="stroke:#059669;stroke-width:0.5;" x1="8" x2="738.7539" y1="603.2969" y2="603.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231.335" x="13" y="620.292">__tablename__ = "code_reviews"</text><line style="stroke:#059669;stroke-width:0.5;" x1="8" x2="738.7539" y1="627.5938" y2="627.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="272.8359" x="13" y="644.5889">+id: Column(UUID, primary_key=True)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="344.0049" x="13" y="660.8857">+user_id: Column(String, ForeignKey("users.id"))</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188.2412" x="13" y="677.1826">+filename: Column(String)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="387.9463" x="13" y="693.4795">+code_content: Column(LargeBinary, encrypted=True)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228.6143" x="13" y="709.7764">+quality_score: Column(Integer)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274.7979" x="13" y="726.0732">+status: Column(Enum(ReviewStatus))</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230.3301" x="13" y="742.3701">+total_findings: Column(Integer)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328.6582" x="13" y="758.667">+error_message: Column(Text, nullable=True)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228.293" x="13" y="774.9639">+created_at: Column(DateTime)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="356.8564" x="13" y="791.2607">+completed_at: Column(DateTime, nullable=True)</text><line style="stroke:#059669;stroke-width:0.5;" x1="8" x2="738.7539" y1="798.5625" y2="798.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.5947" x="13" y="815.5576">#Relationships</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="720.7539" x="13" y="831.8545">+findings: relationship("AgentFindingEntity", back_populates="review", cascade="all, delete-orphan")</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="427.376" x="13" y="848.1514">+user: relationship("UserEntity", back_populates="reviews")</text></g><!--class AgentFindingEntity--><g id="elem_AgentFindingEntity"><rect codeLine="134" fill="#F0FFF4" height="373.6406" id="AgentFindingEntity" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="511.5771" x="1072.5" y="932.2969"/><ellipse cx="1271.5281" cy="948.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1274.4968,953.9375 Q1273.9187,954.2344 1273.2781,954.375 Q1272.6375,954.5313 1271.9343,954.5313 Q1269.4343,954.5313 1268.1062,952.8906 Q1266.7937,951.2344 1266.7937,948.1094 Q1266.7937,944.9844 1268.1062,943.3281 Q1269.4343,941.6719 1271.9343,941.6719 Q1272.6375,941.6719 1273.2781,941.8281 Q1273.9343,941.9844 1274.4968,942.2813 L1274.4968,945 Q1273.8718,944.4219 1273.2781,944.1563 Q1272.6843,943.875 1272.0593,943.875 Q1270.7156,943.875 1270.0281,944.9531 Q1269.3406,946.0156 1269.3406,948.1094 Q1269.3406,950.2031 1270.0281,951.2813 Q1270.7156,952.3438 1272.0593,952.3438 Q1272.6843,952.3438 1273.2781,952.0781 Q1273.8718,951.7969 1274.4968,951.2188 L1274.4968,953.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="105.021" x="1292.0281" y="952.105">AgentFindingEntity</text><line style="stroke:#059669;stroke-width:0.5;" x1="1073.5" x2="1583.0771" y1="964.2969" y2="964.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239.6338" x="1078.5" y="981.292">__tablename__ = "agent_findings"</text><line style="stroke:#059669;stroke-width:0.5;" x1="1073.5" x2="1583.0771" y1="988.5938" y2="988.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="272.8359" x="1078.5" y="1005.5889">+id: Column(UUID, primary_key=True)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="410.5322" x="1078.5" y="1021.8857">+review_id: Column(UUID, ForeignKey("code_reviews.id"))</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.9326" x="1078.5" y="1038.1826">+agent_type: Column(String)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250.6328" x="1078.5" y="1054.4795">+severity: Column(Enum(Severity))</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201.4551" x="1078.5" y="1070.7764">+issue_type: Column(String)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222.7012" x="1078.5" y="1087.0732">+line_number: Column(Integer)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209.0703" x="1078.5" y="1103.3701">+code_snippet: Column(Text)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.293" x="1078.5" y="1119.667">+message: Column(Text)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.04" x="1078.5" y="1135.9639">+suggestion: Column(Text)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172.3203" x="1078.5" y="1152.2607">+metrics: Column(JSON)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="329.8545" x="1078.5" y="1168.5576">+ai_explanation: Column(JSON, nullable=True)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="405.2002" x="1078.5" y="1184.8545">+mcp_references: Column(ARRAY(String), nullable=True)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228.293" x="1078.5" y="1201.1514">+created_at: Column(DateTime)</text><line style="stroke:#059669;stroke-width:0.5;" x1="1073.5" x2="1583.0771" y1="1208.4531" y2="1208.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.5947" x="1078.5" y="1225.4482">#Relationships</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="499.5771" x="1078.5" y="1241.7451">+review: relationship("CodeReviewEntity", back_populates="findings")</text><line style="stroke:#059669;stroke-width:0.5;" x1="1073.5" x2="1583.0771" y1="1249.0469" y2="1249.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.4248" x="1078.5" y="1266.042">#Indexes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="298.833" x="1078.5" y="1282.3389">Index("ix_findings_review_id", "review_id")</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="278.5166" x="1078.5" y="1298.6357">Index("ix_findings_severity", "severity")</text></g><!--class UserEntity--><g id="elem_UserEntity"><rect codeLine="159" fill="#F0FFF4" height="251.5625" id="UserEntity" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="708.6914" x="1963" y="993.2969"/><ellipse cx="2284.5027" cy="1009.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2287.4714,1014.9375 Q2286.8933,1015.2344 2286.2527,1015.375 Q2285.6121,1015.5313 2284.9089,1015.5313 Q2282.4089,1015.5313 2281.0808,1013.8906 Q2279.7683,1012.2344 2279.7683,1009.1094 Q2279.7683,1005.9844 2281.0808,1004.3281 Q2282.4089,1002.6719 2284.9089,1002.6719 Q2285.6121,1002.6719 2286.2527,1002.8281 Q2286.9089,1002.9844 2287.4714,1003.2813 L2287.4714,1006 Q2286.8464,1005.4219 2286.2527,1005.1563 Q2285.6589,1004.875 2285.0339,1004.875 Q2283.6902,1004.875 2283.0027,1005.9531 Q2282.3152,1007.0156 2282.3152,1009.1094 Q2282.3152,1011.2031 2283.0027,1012.2813 Q2283.6902,1013.3438 2285.0339,1013.3438 Q2285.6589,1013.3438 2286.2527,1013.0781 Q2286.8464,1012.7969 2287.4714,1012.2188 L2287.4714,1014.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57.186" x="2305.0027" y="1013.105">UserEntity</text><line style="stroke:#059669;stroke-width:0.5;" x1="1964" x2="2670.6914" y1="1025.2969" y2="1025.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174.501" x="1969" y="1042.292">__tablename__ = "users"</text><line style="stroke:#059669;stroke-width:0.5;" x1="1964" x2="2670.6914" y1="1049.5938" y2="1049.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279.2139" x="1969" y="1066.5889">+id: Column(String, primary_key=True)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266.2598" x="1969" y="1082.8857">+email: Column(String, unique=True)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.9199" x="1969" y="1099.1826">+name: Column(String)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.0029" x="1969" y="1115.4795">+avatar_url: Column(String)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194.209" x="1969" y="1131.7764">+role: Column(Enum(Role))</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="358.3057" x="1969" y="1148.0732">+daily_analysis_count: Column(Integer, default=0)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246.4014" x="1969" y="1164.3701">+last_analysis_date: Column(Date)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228.293" x="1969" y="1180.667">+created_at: Column(DateTime)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232.873" x="1969" y="1196.9639">+updated_at: Column(DateTime)</text><line style="stroke:#059669;stroke-width:0.5;" x1="1964" x2="2670.6914" y1="1204.2656" y2="1204.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.5947" x="1969" y="1221.2607">#Relationships</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="696.6914" x="1969" y="1237.5576">+reviews: relationship("CodeReviewEntity", back_populates="user", cascade="all, delete-orphan")</text></g><!--class AgentConfigEntity--><g id="elem_AgentConfigEntity"><rect codeLine="176" fill="#F0FFF4" height="162.0781" id="AgentConfigEntity" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="388.0791" x="2762.5" y="632.2969"/><ellipse cx="2902.3062" cy="648.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2905.2749,653.9375 Q2904.6968,654.2344 2904.0562,654.375 Q2903.4155,654.5313 2902.7124,654.5313 Q2900.2124,654.5313 2898.8843,652.8906 Q2897.5718,651.2344 2897.5718,648.1094 Q2897.5718,644.9844 2898.8843,643.3281 Q2900.2124,641.6719 2902.7124,641.6719 Q2903.4155,641.6719 2904.0562,641.8281 Q2904.7124,641.9844 2905.2749,642.2813 L2905.2749,645 Q2904.6499,644.4219 2904.0562,644.1563 Q2903.4624,643.875 2902.8374,643.875 Q2901.4937,643.875 2900.8062,644.9531 Q2900.1187,646.0156 2900.1187,648.1094 Q2900.1187,650.2031 2900.8062,651.2813 Q2901.4937,652.3438 2902.8374,652.3438 Q2903.4624,652.3438 2904.0562,652.0781 Q2904.6499,651.7969 2905.2749,651.2188 L2905.2749,653.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="99.9668" x="2922.8062" y="652.105">AgentConfigEntity</text><line style="stroke:#059669;stroke-width:0.5;" x1="2763.5" x2="3149.5791" y1="664.2969" y2="664.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234.2471" x="2768.5" y="681.292">__tablename__ = "agent_configs"</text><line style="stroke:#059669;stroke-width:0.5;" x1="2763.5" x2="3149.5791" y1="688.5938" y2="688.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="272.8359" x="2768.5" y="705.5889">+id: Column(UUID, primary_key=True)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306.3662" x="2768.5" y="721.8857">+agent_type: Column(String, unique=True)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="318.3359" x="2768.5" y="738.1826">+is_enabled: Column(Boolean, default=True)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.4063" x="2768.5" y="754.4795">+config_json: Column(JSON)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="376.0791" x="2768.5" y="770.7764">+updated_by: Column(String, ForeignKey("users.id"))</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232.873" x="2768.5" y="787.0732">+updated_at: Column(DateTime)</text></g><!--class AIUsageMetricsEntity--><g id="elem_AIUsageMetricsEntity"><rect codeLine="187" fill="#F0FFF4" height="227.2656" id="AIUsageMetricsEntity" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="477.5479" x="1246.5" y="599.7969"/><ellipse cx="1422.4817" cy="615.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1425.4504,621.4375 Q1424.8723,621.7344 1424.2317,621.875 Q1423.5911,622.0313 1422.8879,622.0313 Q1420.3879,622.0313 1419.0598,620.3906 Q1417.7473,618.7344 1417.7473,615.6094 Q1417.7473,612.4844 1419.0598,610.8281 Q1420.3879,609.1719 1422.8879,609.1719 Q1423.5911,609.1719 1424.2317,609.3281 Q1424.8879,609.4844 1425.4504,609.7813 L1425.4504,612.5 Q1424.8254,611.9219 1424.2317,611.6563 Q1423.6379,611.375 1423.0129,611.375 Q1421.6692,611.375 1420.9817,612.4531 Q1420.2942,613.5156 1420.2942,615.6094 Q1420.2942,617.7031 1420.9817,618.7813 Q1421.6692,619.8438 1423.0129,619.8438 Q1423.6379,619.8438 1424.2317,619.5781 Q1424.8254,619.2969 1425.4504,618.7188 L1425.4504,621.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117.0845" x="1442.9817" y="619.605">AIUsageMetricsEntity</text><line style="stroke:#059669;stroke-width:0.5;" x1="1247.5" x2="1723.0479" y1="631.7969" y2="631.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257.7627" x="1252.5" y="648.792">__tablename__ = "ai_usage_metrics"</text><line style="stroke:#059669;stroke-width:0.5;" x1="1247.5" x2="1723.0479" y1="656.0938" y2="656.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="465.5479" x="1252.5" y="673.0889">+id: Column(BigInteger, primary_key=True, autoincrement=True)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="410.5322" x="1252.5" y="689.3857">+review_id: Column(UUID, ForeignKey("code_reviews.id"))</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211.4766" x="1252.5" y="705.6826">+model_used: Column(String)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240.96" x="1252.5" y="721.9795">+prompt_tokens: Column(Integer)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="267.8457" x="1252.5" y="738.2764">+completion_tokens: Column(Integer)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221.751" x="1252.5" y="754.5732">+total_tokens: Column(Integer)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="252.0205" x="1252.5" y="770.8701">+cost_usd: Column(Numeric(10, 6))</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="215.1543" x="1252.5" y="787.167">+latency_ms: Column(Integer)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="315.1572" x="1252.5" y="803.4639">+cache_hit: Column(Boolean, default=False)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228.293" x="1252.5" y="819.7607">+created_at: Column(DateTime)</text></g><!--class ClerkClient--><g id="elem_ClerkClient"><rect codeLine="205" fill="#F0FFF4" height="162.0781" id="ClerkClient" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="429.375" x="3024" y="291.2969"/><ellipse cx="3204.3164" cy="307.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3207.2852,312.9375 Q3206.707,313.2344 3206.0664,313.375 Q3205.4258,313.5313 3204.7227,313.5313 Q3202.2227,313.5313 3200.8945,311.8906 Q3199.582,310.2344 3199.582,307.1094 Q3199.582,303.9844 3200.8945,302.3281 Q3202.2227,300.6719 3204.7227,300.6719 Q3205.4258,300.6719 3206.0664,300.8281 Q3206.7227,300.9844 3207.2852,301.2813 L3207.2852,304 Q3206.6602,303.4219 3206.0664,303.1563 Q3205.4727,302.875 3204.8477,302.875 Q3203.5039,302.875 3202.8164,303.9531 Q3202.1289,305.0156 3202.1289,307.1094 Q3202.1289,309.2031 3202.8164,310.2813 Q3203.5039,311.3438 3204.8477,311.3438 Q3205.4727,311.3438 3206.0664,311.0781 Q3206.6602,310.7969 3207.2852,310.2188 L3207.2852,312.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60.2422" x="3224.8164" y="311.105">ClerkClient</text><line style="stroke:#059669;stroke-width:0.5;" x1="3025" x2="3452.375" y1="323.2969" y2="323.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.1191" x="3030" y="340.292">-api_key: str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.6494" x="3030" y="356.5889">-base_url: str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214.2109" x="3030" y="372.8857">-session: aiohttp.ClientSession</text><line style="stroke:#059669;stroke-width:0.5;" x1="3025" x2="3452.375" y1="380.1875" y2="380.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194.6191" x="3030" y="397.1826">+verify_jwt(token: str): Dict</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.2217" x="3030" y="413.4795">+get_user(user_id: str): Dict</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237.3506" x="3030" y="429.7764">+list_users(filters: Dict): List[Dict]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="417.375" x="3030" y="446.0732">-_make_request(method: str, endpoint: str, data: Dict): Dict</text></g><!--class SupabaseClient--><g id="elem_SupabaseClient"><rect codeLine="216" fill="#F0FFF4" height="162.0781" id="SupabaseClient" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="377.4492" x="1861" y="632.2969"/><ellipse cx="2002.6025" cy="648.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2005.5713,653.9375 Q2004.9932,654.2344 2004.3525,654.375 Q2003.7119,654.5313 2003.0088,654.5313 Q2000.5088,654.5313 1999.1807,652.8906 Q1997.8682,651.2344 1997.8682,648.1094 Q1997.8682,644.9844 1999.1807,643.3281 Q2000.5088,641.6719 2003.0088,641.6719 Q2003.7119,641.6719 2004.3525,641.8281 Q2005.0088,641.9844 2005.5713,642.2813 L2005.5713,645 Q2004.9463,644.4219 2004.3525,644.1563 Q2003.7588,643.875 2003.1338,643.875 Q2001.79,643.875 2001.1025,644.9531 Q2000.415,646.0156 2000.415,648.1094 Q2000.415,650.2031 2001.1025,651.2813 Q2001.79,652.3438 2003.1338,652.3438 Q2003.7588,652.3438 2004.3525,652.0781 Q2004.9463,651.7969 2005.5713,651.2188 L2005.5713,653.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85.7441" x="2023.1025" y="652.105">SupabaseClient</text><line style="stroke:#059669;stroke-width:0.5;" x1="1862" x2="2237.4492" y1="664.2969" y2="664.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.2764" x="1867" y="681.292">-url: str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.1191" x="1867" y="697.5889">-api_key: str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.7256" x="1867" y="713.8857">-connection_pool: Pool</text><line style="stroke:#059669;stroke-width:0.5;" x1="1862" x2="2237.4492" y1="721.1875" y2="721.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.0498" x="1867" y="738.1826">+get_session(): Session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="365.4492" x="1867" y="754.4795">+execute_query(query: str, params: Dict): List[Dict]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222.373" x="1867" y="770.7764">+execute_raw_sql(sql: str): Any</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227.3975" x="1867" y="787.0732">-_create_connection_pool(): Pool</text></g><!--class RedisCache--><g id="elem_RedisCache"><rect codeLine="227" fill="#F0FFF4" height="227.2656" id="RedisCache" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="343.707" x="2383.5" y="599.7969"/><ellipse cx="2518.9092" cy="615.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2521.8779,621.4375 Q2521.2998,621.7344 2520.6592,621.875 Q2520.0186,622.0313 2519.3154,622.0313 Q2516.8154,622.0313 2515.4873,620.3906 Q2514.1748,618.7344 2514.1748,615.6094 Q2514.1748,612.4844 2515.4873,610.8281 Q2516.8154,609.1719 2519.3154,609.1719 Q2520.0186,609.1719 2520.6592,609.3281 Q2521.3154,609.4844 2521.8779,609.7813 L2521.8779,612.5 Q2521.2529,611.9219 2520.6592,611.6563 Q2520.0654,611.375 2519.4404,611.375 Q2518.0967,611.375 2517.4092,612.4531 Q2516.7217,613.5156 2516.7217,615.6094 Q2516.7217,617.7031 2517.4092,618.7813 Q2518.0967,619.8438 2519.4404,619.8438 Q2520.0654,619.8438 2520.6592,619.5781 Q2521.2529,619.2969 2521.8779,618.7188 L2521.8779,621.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64.3887" x="2539.4092" y="619.605">RedisCache</text><line style="stroke:#059669;stroke-width:0.5;" x1="2384.5" x2="2726.207" y1="631.7969" y2="631.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.082" x="2389.5" y="648.792">-client: Redis</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.7656" x="2389.5" y="665.0889">-default_ttl: int = 86400</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1172" x="2389.5" y="681.3857">-prefix: str</text><line style="stroke:#059669;stroke-width:0.5;" x1="2384.5" x2="2726.207" y1="688.6875" y2="688.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196.1777" x="2389.5" y="705.6826">+get(key: str): Optional[str]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="331.707" x="2389.5" y="721.9795">+set(key: str, value: str, ttl: Optional[int]): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.2656" x="2389.5" y="738.2764">+delete(key: str): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.3057" x="2389.5" y="754.5732">+exists(key: str): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="302.9961" x="2389.5" y="770.8701">+generate_cache_key(finding: Finding): str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.9521" x="2389.5" y="787.167">+get_hit_rate(): float</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.6973" x="2389.5" y="803.4639">-_serialize(value: Any): str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200.1973" x="2389.5" y="819.7607">-_deserialize(value: str): Any</text></g><!--class GeminiAPIClient--><g id="elem_GeminiAPIClient"><rect codeLine="242" fill="#F0FFF4" height="162.0781" id="GeminiAPIClient" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="354.0771" x="3488.5" y="291.2969"/><ellipse cx="3617.1194" cy="307.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3620.0881,312.9375 Q3619.51,313.2344 3618.8694,313.375 Q3618.2288,313.5313 3617.5256,313.5313 Q3615.0256,313.5313 3613.6975,311.8906 Q3612.385,310.2344 3612.385,307.1094 Q3612.385,303.9844 3613.6975,302.3281 Q3615.0256,300.6719 3617.5256,300.6719 Q3618.2288,300.6719 3618.8694,300.8281 Q3619.5256,300.9844 3620.0881,301.2813 L3620.0881,304 Q3619.4631,303.4219 3618.8694,303.1563 Q3618.2756,302.875 3617.6506,302.875 Q3616.3069,302.875 3615.6194,303.9531 Q3614.9319,305.0156 3614.9319,307.1094 Q3614.9319,309.2031 3615.6194,310.2813 Q3616.3069,311.3438 3617.6506,311.3438 Q3618.2756,311.3438 3618.8694,311.0781 Q3619.4631,310.7969 3620.0881,310.2188 L3620.0881,312.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88.3384" x="3637.6194" y="311.105">GeminiAPIClient</text><line style="stroke:#059669;stroke-width:0.5;" x1="3489.5" x2="3841.5771" y1="323.2969" y2="323.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.1191" x="3494.5" y="340.292">-api_key: str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.0537" x="3494.5" y="356.5889">-model_name: str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.2266" x="3494.5" y="372.8857">-environment: str</text><line style="stroke:#059669;stroke-width:0.5;" x1="3489.5" x2="3841.5771" y1="380.1875" y2="380.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="342.0771" x="3494.5" y="397.1826">+generate_content(prompt: str, config: Dict): str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.0967" x="3494.5" y="413.4795">+count_tokens(text: str): int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.3555" x="3494.5" y="429.7764">-_select_endpoint(): str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="323.6475" x="3494.5" y="446.0732">-_handle_rate_limit(response: Response): void</text></g><!--class MCPServerClient--><g id="elem_MCPServerClient"><rect codeLine="253" fill="#F0FFF4" height="178.375" id="MCPServerClient" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="311.667" x="3877.5" y="283.2969"/><ellipse cx="3983.2224" cy="299.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3986.1912,304.9375 Q3985.613,305.2344 3984.9724,305.375 Q3984.3318,305.5313 3983.6287,305.5313 Q3981.1287,305.5313 3979.8005,303.8906 Q3978.488,302.2344 3978.488,299.1094 Q3978.488,295.9844 3979.8005,294.3281 Q3981.1287,292.6719 3983.6287,292.6719 Q3984.3318,292.6719 3984.9724,292.8281 Q3985.6287,292.9844 3986.1912,293.2813 L3986.1912,296 Q3985.5662,295.4219 3984.9724,295.1563 Q3984.3787,294.875 3983.7537,294.875 Q3982.4099,294.875 3981.7224,295.9531 Q3981.0349,297.0156 3981.0349,299.1094 Q3981.0349,301.2031 3981.7224,302.2813 Q3982.4099,303.3438 3983.7537,303.3438 Q3984.3787,303.3438 3984.9724,303.0781 Q3985.5662,302.7969 3986.1912,302.2188 L3986.1912,304.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91.7222" x="4003.7224" y="303.105">MCPServerClient</text><line style="stroke:#059669;stroke-width:0.5;" x1="3878.5" x2="4188.167" y1="315.2969" y2="315.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.7783" x="3883.5" y="332.292">-server_name: str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.3018" x="3883.5" y="348.5889">-connection: ClientSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.5664" x="3883.5" y="364.8857">-timeout: int = 5</text><line style="stroke:#059669;stroke-width:0.5;" x1="3878.5" x2="4188.167" y1="372.1875" y2="372.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="299.667" x="3883.5" y="389.1826">+query(tool_name: str, params: Dict): Dict</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.123" x="3883.5" y="405.4795">+list_tools(): List[str]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.2207" x="3883.5" y="421.7764">+is_connected(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.5781" x="3883.5" y="438.0732">-_connect(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.6484" x="3883.5" y="454.3701">-_disconnect(): void</text></g><!--class AESEncryptor--><g id="elem_AESEncryptor"><rect codeLine="268" fill="#F0FFF4" height="129.4844" id="AESEncryptor" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="235.3027" x="775" y="648.7969"/><ellipse cx="850.8977" cy="664.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M853.8665,670.4375 Q853.2883,670.7344 852.6477,670.875 Q852.0071,671.0313 851.304,671.0313 Q848.804,671.0313 847.4758,669.3906 Q846.1633,667.7344 846.1633,664.6094 Q846.1633,661.4844 847.4758,659.8281 Q848.804,658.1719 851.304,658.1719 Q852.0071,658.1719 852.6477,658.3281 Q853.304,658.4844 853.8665,658.7813 L853.8665,661.5 Q853.2415,660.9219 852.6477,660.6563 Q852.054,660.375 851.429,660.375 Q850.0852,660.375 849.3977,661.4531 Q848.7102,662.5156 848.7102,664.6094 Q848.7102,666.7031 849.3977,667.7813 Q850.0852,668.8438 851.429,668.8438 Q852.054,668.8438 852.6477,668.5781 Q853.2415,668.2969 853.8665,667.7188 L853.8665,670.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75.0073" x="871.3977" y="668.605">AESEncryptor</text><line style="stroke:#059669;stroke-width:0.5;" x1="776" x2="1009.3027" y1="680.7969" y2="680.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.793" x="781" y="697.792">-key: bytes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.7285" x="781" y="714.0889">-cipher: Cipher</text><line style="stroke:#059669;stroke-width:0.5;" x1="776" x2="1009.3027" y1="721.3906" y2="721.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.6914" x="781" y="738.3857">+encrypt(plaintext: str): bytes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223.3027" x="781" y="754.6826">+decrypt(ciphertext: bytes): str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.3096" x="781" y="770.9795">-_generate_iv(): bytes</text></g><!--class DatabaseMigration--><g id="elem_DatabaseMigration"><rect codeLine="277" fill="#F0FFF4" height="129.4844" id="DatabaseMigration" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="234.8174" x="4141" y="44.2969"/><ellipse cx="4201.9839" cy="60.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4204.9526,65.9375 Q4204.3745,66.2344 4203.7339,66.375 Q4203.0933,66.5313 4202.3901,66.5313 Q4199.8901,66.5313 4198.562,64.8906 Q4197.2495,63.2344 4197.2495,60.1094 Q4197.2495,56.9844 4198.562,55.3281 Q4199.8901,53.6719 4202.3901,53.6719 Q4203.0933,53.6719 4203.7339,53.8281 Q4204.3901,53.9844 4204.9526,54.2813 L4204.9526,57 Q4204.3276,56.4219 4203.7339,56.1563 Q4203.1401,55.875 4202.5151,55.875 Q4201.1714,55.875 4200.4839,56.9531 Q4199.7964,58.0156 4199.7964,60.1094 Q4199.7964,62.2031 4200.4839,63.2813 Q4201.1714,64.3438 4202.5151,64.3438 Q4203.1401,64.3438 4203.7339,64.0781 Q4204.3276,63.7969 4204.9526,63.2188 L4204.9526,65.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104.3496" x="4222.4839" y="64.105">DatabaseMigration</text><line style="stroke:#059669;stroke-width:0.5;" x1="4142" x2="4374.8174" y1="76.2969" y2="76.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220.3633" x="4147" y="93.292">-alembic_config: AlembicConfig</text><line style="stroke:#059669;stroke-width:0.5;" x1="4142" x2="4374.8174" y1="100.5938" y2="100.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202.8018" x="4147" y="117.5889">+upgrade(revision: str): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222.8174" x="4147" y="133.8857">+downgrade(revision: str): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.418" x="4147" y="150.1826">+current(): str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.9092" x="4147" y="166.4795">+history(): List[str]</text></g><!--class AuthenticationService--><g id="elem_AuthenticationService"><rect fill="#F0FFF4" height="48" id="AuthenticationService" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="153.4028" x="3162" y="84.7969"/><ellipse cx="3177" cy="100.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3179.9688,106.4375 Q3179.3906,106.7344 3178.75,106.875 Q3178.1094,107.0313 3177.4063,107.0313 Q3174.9063,107.0313 3173.5781,105.3906 Q3172.2656,103.7344 3172.2656,100.6094 Q3172.2656,97.4844 3173.5781,95.8281 Q3174.9063,94.1719 3177.4063,94.1719 Q3178.1094,94.1719 3178.75,94.3281 Q3179.4063,94.4844 3179.9688,94.7813 L3179.9688,97.5 Q3179.3438,96.9219 3178.75,96.6563 Q3178.1563,96.375 3177.5313,96.375 Q3176.1875,96.375 3175.5,97.4531 Q3174.8125,98.5156 3174.8125,100.6094 Q3174.8125,102.7031 3175.5,103.7813 Q3176.1875,104.8438 3177.5313,104.8438 Q3178.1563,104.8438 3178.75,104.5781 Q3179.3438,104.2969 3179.9688,103.7188 L3179.9688,106.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121.4028" x="3191" y="104.605">AuthenticationService</text><line style="stroke:#059669;stroke-width:0.5;" x1="3163" x2="3314.4028" y1="116.7969" y2="116.7969"/><line style="stroke:#059669;stroke-width:0.5;" x1="3163" x2="3314.4028" y1="124.7969" y2="124.7969"/></g><!--class AIExplainerService--><g id="elem_AIExplainerService"><rect fill="#F0FFF4" height="48" id="AIExplainerService" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="134.98" x="3598" y="84.7969"/><ellipse cx="3613" cy="100.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3615.9688,106.4375 Q3615.3906,106.7344 3614.75,106.875 Q3614.1094,107.0313 3613.4063,107.0313 Q3610.9063,107.0313 3609.5781,105.3906 Q3608.2656,103.7344 3608.2656,100.6094 Q3608.2656,97.4844 3609.5781,95.8281 Q3610.9063,94.1719 3613.4063,94.1719 Q3614.1094,94.1719 3614.75,94.3281 Q3615.4063,94.4844 3615.9688,94.7813 L3615.9688,97.5 Q3615.3438,96.9219 3614.75,96.6563 Q3614.1563,96.375 3613.5313,96.375 Q3612.1875,96.375 3611.5,97.4531 Q3610.8125,98.5156 3610.8125,100.6094 Q3610.8125,102.7031 3611.5,103.7813 Q3612.1875,104.8438 3613.5313,104.8438 Q3614.1563,104.8438 3614.75,104.5781 Q3615.3438,104.2969 3615.9688,103.7188 L3615.9688,106.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102.98" x="3627" y="104.605">AIExplainerService</text><line style="stroke:#059669;stroke-width:0.5;" x1="3599" x2="3731.98" y1="116.7969" y2="116.7969"/><line style="stroke:#059669;stroke-width:0.5;" x1="3599" x2="3731.98" y1="124.7969" y2="124.7969"/></g><!--class MCPContextEnricher--><g id="elem_MCPContextEnricher"><rect fill="#F0FFF4" height="48" id="MCPContextEnricher" rx="2.5" ry="2.5" style="stroke:#059669;stroke-width:0.5;" width="144.9004" x="3961" y="84.7969"/><ellipse cx="3976" cy="100.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3978.9688,106.4375 Q3978.3906,106.7344 3977.75,106.875 Q3977.1094,107.0313 3976.4063,107.0313 Q3973.9063,107.0313 3972.5781,105.3906 Q3971.2656,103.7344 3971.2656,100.6094 Q3971.2656,97.4844 3972.5781,95.8281 Q3973.9063,94.1719 3976.4063,94.1719 Q3977.1094,94.1719 3977.75,94.3281 Q3978.4063,94.4844 3978.9688,94.7813 L3978.9688,97.5 Q3978.3438,96.9219 3977.75,96.6563 Q3977.1563,96.375 3976.5313,96.375 Q3975.1875,96.375 3974.5,97.4531 Q3973.8125,98.5156 3973.8125,100.6094 Q3973.8125,102.7031 3974.5,103.7813 Q3975.1875,104.8438 3976.5313,104.8438 Q3977.1563,104.8438 3977.75,104.5781 Q3978.3438,104.2969 3978.9688,103.7188 L3978.9688,106.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112.9004" x="3990" y="104.605">MCPContextEnricher</text><line style="stroke:#059669;stroke-width:0.5;" x1="3962" x2="4104.9004" y1="116.7969" y2="116.7969"/><line style="stroke:#059669;stroke-width:0.5;" x1="3962" x2="4104.9004" y1="124.7969" y2="124.7969"/></g><g id="elem_GMN48"><path d="M788,73.2969 L788,104.7969 L752.77,108.7969 L788,112.7969 L788,143.8281 A0,0 0 0 0 788,143.8281 L1038.5249,143.8281 A0,0 0 0 0 1038.5249,143.8281 L1038.5249,83.2969 L1028.5249,73.2969 L788,73.2969 A0,0 0 0 0 788,73.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1028.5249,73.2969 L1028.5249,83.2969 L1038.5249,83.2969 L1028.5249,73.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="186.5195" x="794" y="90.3638">Repository Pattern (Port)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.7344" x="794" y="105.4966">Abstraction for data access</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.4209" x="794" y="120.6294">Allows easy mocking in tests</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.5249" x="794" y="135.7622">Domain layer depends on interface</text></g><g id="elem_GMN51"><path d="M788,336.7969 L788,368.2969 L752.65,372.2969 L788,376.2969 L788,407.3281 A0,0 0 0 0 788,407.3281 L1084.5327,407.3281 A0,0 0 0 0 1084.5327,407.3281 L1084.5327,346.7969 L1074.5327,336.7969 L788,336.7969 A0,0 0 0 0 788,336.7969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1074.5327,336.7969 L1074.5327,346.7969 L1084.5327,346.7969 L1074.5327,336.7969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="275.5327" x="794" y="353.8638">Repository Implementation (Adapter)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252.0972" x="794" y="368.9966">Concrete SQLAlchemy implementation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.2939" x="794" y="384.1294">Handles encryption/decryption</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.5771" x="794" y="399.2622">Maps between domain and ORM</text></g><g id="elem_GMN54"><path d="M268.5,1083.7969 L268.5,1154.3281 A0,0 0 0 0 268.5,1154.3281 L478.9395,1154.3281 A0,0 0 0 0 478.9395,1154.3281 L478.9395,1093.7969 L468.9395,1083.7969 L377.5,1083.7969 L373.5,855.3169 L369.5,1083.7969 L268.5,1083.7969 A0,0 0 0 0 268.5,1083.7969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M468.9395,1083.7969 L468.9395,1093.7969 L478.9395,1093.7969 L468.9395,1083.7969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="189.4395" x="274.5" y="1100.8638">ORM Entity (SQLAlchemy)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.6973" x="274.5" y="1115.9966">Direct DB table mapping</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.6987" x="274.5" y="1131.1294">Includes relationships</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.1133" x="274.5" y="1146.2622">Index definitions</text></g><g id="elem_GMN57"><path d="M1045,677.7969 L1045,709.2969 L1010.04,713.2969 L1045,717.2969 L1045,748.3281 A0,0 0 0 0 1045,748.3281 L1212.0977,748.3281 A0,0 0 0 0 1212.0977,748.3281 L1212.0977,687.7969 L1202.0977,677.7969 L1045,677.7969 A0,0 0 0 0 1045,677.7969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1202.0977,677.7969 L1202.0977,687.7969 L1212.0977,687.7969 L1202.0977,677.7969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119.9707" x="1051" y="694.8638">Utility - Security</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.5718" x="1051" y="709.9966">AES-256 encryption</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.0977" x="1051" y="725.1294">Key from environment</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.1631" x="1051" y="740.2622">IV per encryption</text></g><!--reverse link ICodeReviewRepository to CodeReviewRepository--><g id="link_ICodeReviewRepository_CodeReviewRepository"><path codeLine="289" d="M532.5,191.4369 C532.5,214.6369 532.5,223.7169 532.5,250.2569 " fill="none" id="ICodeReviewRepository-backto-CodeReviewRepository" style="stroke:#059669;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="532.5,173.4369,526.5,191.4369,538.5,191.4369,532.5,173.4369" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.9082" x="533.5" y="216.3638">implements</text></g><!--reverse link IAgentFindingRepository to AgentFindingRepository--><g id="link_IAgentFindingRepository_AgentFindingRepository"><path codeLine="290" d="M1893.5,183.5769 C1893.5,217.7769 1893.5,244.3069 1893.5,283.1969 " fill="none" id="IAgentFindingRepository-backto-AgentFindingRepository" style="stroke:#059669;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1893.5,165.5769,1887.5,183.5769,1899.5,183.5769,1893.5,165.5769" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.9082" x="1894.5" y="216.3638">implements</text></g><!--reverse link IUserRepository to UserRepository--><g id="link_IUserRepository_UserRepository"><path codeLine="291" d="M2334.5,191.4369 C2334.5,221.8169 2334.5,240.8469 2334.5,274.6069 " fill="none" id="IUserRepository-backto-UserRepository" style="stroke:#059669;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2334.5,173.4369,2328.5,191.4369,2340.5,191.4369,2334.5,173.4369" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.9082" x="2335.5" y="216.3638">implements</text></g><!--reverse link IConfigRepository to ConfigRepository--><g id="link_IConfigRepository_ConfigRepository"><path codeLine="292" d="M2760.5,191.4369 C2760.5,221.8169 2760.5,240.8469 2760.5,274.6069 " fill="none" id="IConfigRepository-backto-ConfigRepository" style="stroke:#059669;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2760.5,173.4369,2754.5,191.4369,2766.5,191.4369,2760.5,173.4369" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.9082" x="2761.5" y="216.3638">implements</text></g><!--link CodeReviewRepository to CodeReviewEntity--><g id="link_CodeReviewRepository_CodeReviewEntity"><path codeLine="294" d="M475.55,494.7269 C463.92,519.5169 454.1382,540.3749 442.2182,565.7849 " fill="none" id="CodeReviewRepository-to-CodeReviewEntity" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="439.67,571.2169,447.1136,564.7677,441.7935,566.6902,439.8709,561.3701,439.67,571.2169" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="459.5" y="537.3638">uses</text></g><!--link CodeReviewRepository to AESEncryptor--><g id="link_CodeReviewRepository_AESEncryptor"><path codeLine="295" d="M674,494.5269 C702.06,519.4869 731.02,545.9069 757.5,571.2969 C783.19,595.9269 806.3876,619.7073 829.6876,644.3473 " fill="none" id="CodeReviewRepository-to-AESEncryptor" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="833.81,648.7069,830.5327,639.4193,830.3746,645.0739,824.72,644.9159,833.81,648.7069" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.2578" x="723.5" y="537.3638">encrypts with</text></g><!--link CodeReviewRepository to SupabaseClient--><g id="link_CodeReviewRepository_SupabaseClient"><path codeLine="296" d="M752.71,488.8369 C758.66,490.7969 764.59,492.6269 770.5,494.2969 C1015.91,563.8469 1088.07,523.0769 1342.5,541.2969 C1451.54,549.1069 1729.72,536.9469 1833.5,571.2969 C1874.53,584.8769 1910.3569,604.8706 1945.2569,628.7306 " fill="none" id="CodeReviewRepository-to-SupabaseClient" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="1950.21,632.1169,1945.0379,623.7354,1946.0824,629.295,1940.5228,630.3395,1950.21,632.1169" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.6206" x="1343.5" y="537.3638">queries via</text></g><!--link AgentFindingRepository to AgentFindingEntity--><g id="link_AgentFindingRepository_AgentFindingEntity"><path codeLine="298" d="M1854.26,461.4869 C1840,495.4069 1824.47,534.7669 1812.5,571.2969 C1771.99,694.9369 1817.56,749.7369 1741.5,855.2969 C1700.63,912.0269 1648.4219,956.1789 1589.5419,994.4189 " fill="none" id="AgentFindingRepository-to-AgentFindingEntity" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="1584.51,997.6869,1594.2365,996.1395,1588.7033,994.9635,1589.8792,989.4303,1584.51,997.6869" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="1813.5" y="717.8638">uses</text></g><!--link AgentFindingRepository to SupabaseClient--><g id="link_AgentFindingRepository_SupabaseClient"><path codeLine="299" d="M1934.08,461.4769 C1958.36,514.2569 1986.482,575.3562 2010.082,626.6462 " fill="none" id="AgentFindingRepository-to-SupabaseClient" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="2012.59,632.0969,2012.4618,622.2489,2010.5,627.5546,2005.1942,625.5929,2012.59,632.0969" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.6206" x="1968.5" y="537.3638">queries via</text></g><!--link UserRepository to UserEntity--><g id="link_UserRepository_UserEntity"><path codeLine="301" d="M2332.29,469.9269 C2329.24,603.7869 2323.8571,839.7884 2320.4871,987.2684 " fill="none" id="UserRepository-to-UserEntity" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="2320.35,993.2669,2324.5546,984.3606,2320.4642,988.2682,2316.5566,984.1778,2320.35,993.2669" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="2331.5" y="717.8638">uses</text></g><!--link UserRepository to SupabaseClient--><g id="link_UserRepository_SupabaseClient"><path codeLine="302" d="M2253.21,469.9869 C2210.11,521.2569 2161.6309,578.9141 2120.8009,627.4841 " fill="none" id="UserRepository-to-SupabaseClient" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="2116.94,632.0769,2125.7932,627.7616,2120.1574,628.2496,2119.6695,622.6138,2116.94,632.0769" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.6206" x="2202.5" y="537.3638">queries via</text></g><!--link ConfigRepository to AgentConfigEntity--><g id="link_ConfigRepository_AgentConfigEntity"><path codeLine="304" d="M2816.4,469.9869 C2846.05,521.2569 2879.0369,578.3125 2907.1169,626.8825 " fill="none" id="ConfigRepository-to-AgentConfigEntity" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="2910.12,632.0769,2909.0783,622.2833,2907.6175,627.7482,2902.1525,626.2873,2910.12,632.0769" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="2854.5" y="537.3638">uses</text></g><!--link ConfigRepository to RedisCache--><g id="link_ConfigRepository_RedisCache"><path codeLine="305" d="M2702.03,469.9869 C2677.59,510.3969 2652.1342,552.4923 2626.7542,594.4723 " fill="none" id="ConfigRepository-to-RedisCache" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="2623.65,599.6069,2631.7294,593.9745,2626.2369,595.3281,2624.8833,589.8355,2623.65,599.6069" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.9844" x="2665.5" y="537.3638">caches with</text></g><!--link ConfigRepository to SupabaseClient--><g id="link_ConfigRepository_SupabaseClient"><path codeLine="306" d="M2570.25,469.8569 C2551.24,478.4869 2532.1,486.7869 2513.5,494.2969 C2410.01,536.0669 2375.67,524.1969 2274.5,571.2969 C2237.62,588.4669 2204.5058,607.3574 2170.2858,628.9274 " fill="none" id="ConfigRepository-to-SupabaseClient" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="2165.21,632.1269,2174.9566,630.7116,2169.4398,629.4607,2170.6907,623.9439,2165.21,632.1269" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.6206" x="2419.5" y="537.3638">queries via</text></g><!--link MetricsRepository to AIUsageMetricsEntity--><g id="link_MetricsRepository_AIUsageMetricsEntity"><path codeLine="308" d="M1389.69,437.0569 C1405.62,482.8069 1425.5174,539.9904 1444.3474,594.0804 " fill="none" id="MetricsRepository-to-AIUsageMetricsEntity" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="1446.32,599.7469,1447.1387,589.9321,1444.6761,595.0248,1439.5834,592.5623,1446.32,599.7469" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="1424.5" y="537.3638">uses</text></g><!--link MetricsRepository to SupabaseClient--><g id="link_MetricsRepository_SupabaseClient"><path codeLine="309" d="M1501.73,436.8769 C1543.1,455.9169 1588.95,476.4569 1631.5,494.2969 C1720.11,531.4469 1747.89,527.6769 1833.5,571.2969 C1868.21,588.9869 1899.2601,607.6505 1931.7501,628.9205 " fill="none" id="MetricsRepository-to-SupabaseClient" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="1936.77,632.2069,1931.431,623.9307,1932.5867,629.4682,1927.0492,630.6239,1936.77,632.2069" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.6206" x="1766.5" y="537.3638">queries via</text></g><!--link CodeReviewEntity to AgentFindingEntity--><g id="link_CodeReviewEntity_AgentFindingEntity"><path codeLine="311" d="M706.84,855.3169 C826.7,906.0169 954.4141,960.0392 1066.6941,1007.5392 " fill="none" id="CodeReviewEntity-to-AgentFindingEntity" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="1072.22,1009.8769,1065.4897,1002.6864,1067.6151,1007.9288,1062.3727,1010.0542,1072.22,1009.8769" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22.9785" x="795.5" y="898.3638">has</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="716.8649" y="875.56">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6.5" x="1057.7275" y="1003.1154">*</text></g><!--link CodeReviewEntity to UserEntity--><g id="link_CodeReviewEntity_UserEntity"><path codeLine="312" d="M740.01,851.1869 C745.86,852.6169 751.7,853.9869 757.5,855.2969 C1124.97,938.0269 1230.43,867.6169 1601.5,932.2969 C1720.27,952.9969 1842.4208,981.9876 1956.8408,1012.3576 " fill="none" id="CodeReviewEntity-to-UserEntity" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="1962.64,1013.8969,1954.9674,1007.7219,1957.8073,1012.6142,1952.915,1015.4541,1962.64,1013.8969" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.2627" x="1311.5" y="898.3638">belongs to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6.5" x="747.5232" y="850.9021">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="1946.236" y="1008.3244">1</text></g><!--link AgentConfigEntity to UserEntity--><g id="link_AgentConfigEntity_UserEntity"><path codeLine="313" d="M2837.57,794.4469 C2807.35,814.5269 2774.84,835.8769 2744.5,855.2969 C2673.1,901.0069 2599.3536,946.8583 2529.0336,990.0183 " fill="none" id="AgentConfigEntity-to-UserEntity" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="2523.92,993.1569,2533.6828,991.8581,2528.1814,990.5414,2529.4981,985.0399,2523.92,993.1569" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.1343" x="2688.5" y="898.3638">updated by</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6.5" x="2820.7294" y="814.4116">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="2528.2726" y="982.0975">1</text></g><!--link AuthenticationService to ClerkClient--><g id="link_AuthenticationService_ClerkClient"><path codeLine="316" d="M3238.5,133.0069 C3238.5,168.1869 3238.5,230.7169 3238.5,285.2869 " fill="none" id="AuthenticationService-to-ClerkClient" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="3238.5,291.2869,3242.5,282.2869,3238.5,286.2869,3234.5,282.2869,3238.5,291.2869" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="3239.5" y="216.3638">uses</text></g><!--link AIExplainerService to GeminiAPIClient--><g id="link_AIExplainerService_GeminiAPIClient"><path codeLine="317" d="M3665.5,133.0069 C3665.5,168.1869 3665.5,230.7169 3665.5,285.2869 " fill="none" id="AIExplainerService-to-GeminiAPIClient" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="3665.5,291.2869,3669.5,282.2869,3665.5,286.2869,3661.5,282.2869,3665.5,291.2869" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.1104" x="3666.5" y="216.3638">calls</text></g><!--link MCPContextEnricher to MCPServerClient--><g id="link_MCPContextEnricher_MCPServerClient"><path codeLine="318" d="M4033.5,133.0069 C4033.5,166.4369 4033.5,223.9869 4033.5,277.0469 " fill="none" id="MCPContextEnricher-to-MCPServerClient" style="stroke:#059669;stroke-width:1;"/><polygon fill="#059669" points="4033.5,283.0469,4037.5,274.0469,4033.5,278.0469,4029.5,274.0469,4033.5,283.0469" style="stroke:#059669;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.2168" x="4034.5" y="216.3638">queries</text></g><!--SRC=[xLfjRoEt4VwkNq4eGBjoxAklo1cDK1VGsNAYnc-LvA27uB2WTYc9yRuToRMjjFdldI6vkzmttLdffwO7dBnBpWo7Cm-7m-7AHvvaLD2O116LSgAKuAjSiLcG9Wl-2oEd0radkKeJfNlUldMwLZHut8WqJyABD4e5-UfA_sioatyD27dVeZq5qc-m9nKX4xRrzDstPsVVGkj4YFIvtlZhOA2uYXYP9Mj1fH9ve7B1o3NTCK5Eo9nbgUGg5Pn9yWSoVL5C93GY2oQUUC3aOF17SlwAVq0-dzxVBMRBk_a7ChjTJkTNaulfWdZtgL1oz5fnF065rZI02Loa8Pkp9ywUIwLtsanVaq0mgfWdTE-OL9GZzqMJhdaI-gkTpqDB3azZyl0mkmJQkqpn5AR_KyNqiSQLIoOy_D5SOCvZw8f0HJacbpnG8EEQIzNYpxCG5FIbeYgNpO6FYMaV4yEoq6yWwYdbeMOFMSJA-RaAQmhmiMEcoOObwWhqvSccnr3-YgfWwwqDaRGwMvwFnwHd7DSGXgH3evge6ejaJqnmjUkOlkqP0-pCKwUW05Q2GaaKfzWnDdhW9-qKiCV7XbqUm6jzm46FWXJu7Pa_JQYuBdTnWhJrMRAOyiZJltkeBHu-vQcY3JpfMOvn1gxTDqpv8SX42CBqcme1TMEw5scovcq0IFh4ZFtyG5DuvaNjCbOgWErZee5an3GrsIV0dR0ZucF574MMLNerfxMeZRAy6AXKRDQZLKbPqs5MYFprDmQpc_lhwStqTZbPpkvk8Q9DGfhXqdzrK3CHlZUUdS22a1Aqn_MW7tGZImAnou0AB31TJ8ittHUbcmr2-5h_XIRV_tzWr9RnhTa06Y53V2YC7VXIe7MrKx3FQTgGTT1Q0Ioqf2FDQ1XKweSfhFK4g9IEODK4fxgbQMZ3PAW_vnSZ0N5h4BCdjFTWPZykVYVxG8-dN6kMlhBlJKTP4vNzNRPfowiyrx7v7EIn_usTgiSXE6Zf23ktcXTQas-QkNFJwp5qG8CjmyWISdc1ptlD_tlUDxKNUF948wwne2tdFR9TeNUHXHedt30u6WNoIxnWZIjO0ESPrCD0fXKOOYCIf_2057O8To9MHXnaFlYmMB2E36WTavkB-miCwoyA7DoqGv1AvTkXF3rJGPCDUESIdkVuM8IZkXgLYnIZSId10hy8gs0g2AbzOj6R1oKeT_CR0Zd9R3d3GzRY7zUJ2BmJxyWDR2FHRyzDp1BJBlHzHLSHIsZCV9-Saw7U9espvB1o9zeSJg5vd7Z6z9dWCHKx7o1plXGv6vd8KWG6Ixi0is5alKe5uvla1xRpXaWZt_1mE1hPs6N6Rp2DxBvGxTebmJKL6_QU9p3-CIctSaUDJpdWMi6s1FYfvCv02WG0Gr9a8RPlckInLyj839c241dvrMxQ9Oh14Lq0H2JYfoHP0Y2FIP974HhOKSv4VLWQrOGGDKiU5mHfd64Ar4dI8LAxw2k8UX75TIwtF9Fbhc3K5awVDsplQiDZNSJmipJBWPB9yw7107G4L0OqPET325R7DZixIKMsfScmydfpZ2gKzygMmDwP1-t3fucmnSnUZr0d3jMeNOIwQy01gXlSEw1QPJekfiginn1nANFMBoFY2VE1ROK6xSAQLaqcFCkOga7DT7U1q6gNm-OdbGxM7Mms5jkUlo_kRksSkSzUieWcjCQA19tWnbWjs9e9M9Qi4ZYPpoSVYfaUiYfwCLwastNqDMDT1mPB23dYPqd8NlJ1GJzvG_vIGiqlaGF2XjNBg9kwG0CIby-ZUlQu3-SwIdR3kmYgtG2toL-3Da_ufzorTs_4fKzKKU7d8khi5cd46b4JMYowJOu8O8bsaalV9fDr76C8MTCyKkUd5lCKjkYI1pVJ6WA-C6YQdFPG_CW308GU-cnuhCStatrzFhpPbF3rqQqtH7KW08mD0yFebUZtAVYI9fMBdFMfLV9_beqeKBV-QlUghN-lqohJrJAplTQpsMQHhtKRy3tVb5Xicl6Oq5ob778A5eCf_piRHunf6vPJmiubbGdOyC5hwIDBP5_Oroa1m7ClcSbMzWk2nPRBIf7RF8RO57XlJu_9sQXOaP1k1Ji_xXE2XmL_orK_SAve9BzawHwI7a__kPpERoVNP36T_pYxc9ABwncaoui3q-A8YSUBY8EtxQ66PjmlJaAwOKKbCm6nQ2dFFPIdMwMoDqP0wnI4SN-zytz-LfxsId6wqaU3ueJHghEv116NXa9wdSKtVBR7kPW-8lfWbKlbmGhOfiMfdYLX1g1MzXKM7Isb5ASKOur5db6SRiqWjQcth0EH8M61ncO6C1YJU_YjJ80pjER2isXb8jYgNbYGwq844pjF_reDzQrPpqmhFa6VVVafyk1_ORT9iZF6iDMmXdAeWLQld71LAx2J3VJCRH51jrXC-qf5kjO1aUOlPz-SdkhE3B8T_b9OevgpUvOkpzzuNhIvOaLmJE0KdXSL1pr8oO2rhexQQFESRem2Hf9kryhu0TL9c2XF-UYzLl6hB80QXy7Qzf43xRMEKchhEm133YUhNvXdLGPpkwNJaBKeAhUK9l-EnJpXa_lP_bLdegR9KuesbZnnaIOnirXsJLxCqPPuJLHjr74idegfcggZYPSULX1Q5Iq91W-KNomWpvqjxF1XnBIT_8Z77CkMCeCCGfUWp5Exad9nZ_UmJDGcBtLJOx8LTY5mDkBB2L4GFzDS5OXyLvd2B2S5tgy4jfPKFS0WiQv0bMMD8aMmIh3Ggn25oyiqUxMoF2oOPliXyVrXERkUBJz0M9yi5jC3mxfxdMADhD5LtGm4FDlgOvR-MvdF5XGyEFNmn0L5mOhBq90O4OQcTOzG8f8_UILtYGFO0dMWlU4ReVFEOXb4B5xnm2yBVERTP8wLada6RA4fgvcTg14EmlGv-Gn9a0l1N4n_JRRW_XJ0KqF2ONTir-PAxVlP_QizsFrPm5___UPDzmKRh05CZp0go47VPRbcx-ch2sWKzZLZewtEq2fHMrKRhJMcGUTCJax-rgxJZR708liPQb0V5_YLv9chRJzNOwSVwx21NumySJeOz1XA3zUkr5WDzp3j7wrXNMHmpiTMUWVHVgaj1vJQryvXfNaxg9tiO6pItjAi7TJxrMdNqBK-NOSRgr8tn-SctK3FyErGimsFXjsksrBPmNLakO2xveeLYz9a8-6eCMYRifVB7lGW268iQN-HDCdL5Y-40XqARRDP3KvwNi1iDdtHmPa9bxAPLg33eWYiMDuFJ1CmvnQ_aGBovaPSsl60Q7TxjtpzFfMaYX71Drj5qdNtfr0Gau-E7FVVKuMMCnzUZOwEyFkm5SHeghC4ieRrZxazeG4O5RUgIHIbpv8mAdUGJmMFu7V85mZiH0gxB_Lb7PptyCEna6MGvaW2WiflJWRGGb3HGKFTBz5sLaGxixyLtrOOlS4baAA3IETwWzSOWEXxdM798gH1uv_irclwRsWc0P7gcR64c9j70YnuWTBKV9KgbSPrrUrL8wgjhrmCMfqB5wFg9HUGqf3BzqIN6qXCiypS9y-I8CeXwQqLZyho8HuS096wlTUGZSy-ZeuU5CUx2qW55d3AmRAXyVDqSVBdTsUEAQ3n1xOZQyXptRmOH_-HPE1GXxGS_Jy0]--></g></svg>