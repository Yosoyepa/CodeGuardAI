<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2481px" preserveAspectRatio="none" style="width:2026px;height:2481px;background:#FFFFFF;" version="1.1" viewBox="0 0 2026 2481" width="2026px" zoomAndPan="magnify"><title>Sequence Diagram - Complete Code Analysis Workflow with AI Explanation</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="591.8623" x="718.114" y="27.9951">Sequence Diagram - Complete Code Analysis Workflow with AI Explanation</text><rect fill="#FFFFFF" height="168.7969" style="stroke:#181818;stroke-width:1;" width="10" x="222.3325" y="149.7266"/><rect fill="#FFFFFF" height="139.6641" style="stroke:#181818;stroke-width:1;" width="10" x="532.0132" y="178.8594"/><rect fill="#FFFFFF" height="1809.4453" style="stroke:#181818;stroke-width:1;" width="10" x="802.8271" y="435.8594"/><rect fill="#FFFFFF" height="1489.8516" style="stroke:#181818;stroke-width:1;" width="10" x="1061.2231" y="522.2578"/><rect fill="#FFFFFF" height="128.5313" style="stroke:#181818;stroke-width:1;" width="10" x="1299.916" y="667.9219"/><rect fill="#FFFFFF" height="726.6641" style="stroke:#181818;stroke-width:1;" width="10" x="1497.603" y="1169.9141"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1720.1411" y="1280.4453"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1720.1411" y="1338.7109"/><rect fill="#FFFFFF" height="242.7344" style="stroke:#181818;stroke-width:1;" width="10" x="1854.1621" y="1454.2422"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1956.7139" y="377.5938"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1956.7139" y="2056.375"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1956.7139" y="2129.7734"/><rect fill="none" height="2132.8438" style="stroke:#000000;stroke-width:1.5;" width="2009.0903" x="10" y="251.125"/><rect fill="none" height="307.1953" style="stroke:#000000;stroke-width:1.5;" width="518.5435" x="984.0596" y="629.6563"/><rect fill="none" height="861.3281" style="stroke:#000000;stroke-width:1.5;" width="970.2778" x="974.0596" y="1107.5156"/><rect fill="none" height="830.1953" style="stroke:#000000;stroke-width:1.5;" width="950.2778" x="984.0596" y="1131.6484"/><rect fill="none" height="626.2656" style="stroke:#000000;stroke-width:1.5;" width="524.2671" x="1400.0703" y="1242.1797"/><rect fill="none" height="220.7344" style="stroke:#000000;stroke-width:1.5;" width="504.2671" x="1410.0703" y="1469.2422"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="289.9189" x="1420.0703" y="1623.7109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="59" x2="59" y1="118.5938" y2="2400.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="226.7778" x2="226.7778" y1="118.5938" y2="2400.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="536.7695" x2="536.7695" y1="118.5938" y2="2400.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="807.1157" x2="807.1157" y1="118.5938" y2="2400.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1066.0596" x2="1066.0596" y1="118.5938" y2="2400.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1304.4512" x2="1304.4512" y1="118.5938" y2="2400.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1502.0703" x2="1502.0703" y1="118.5938" y2="2400.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1724.2954" x2="1724.2954" y1="118.5938" y2="2400.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1858.9868" x2="1858.9868" y1="118.5938" y2="2400.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1961.3374" x2="1961.3374" y1="118.5938" y2="2400.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.0029" x="20" y="115.292">Developer</text><ellipse cx="59.0015" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M59.0015,58.7969 L59.0015,85.7969 M46.0015,66.7969 L72.0015,66.7969 M59.0015,85.7969 L46.0015,100.7969 M59.0015,85.7969 L72.0015,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.0029" x="20" y="2412.9639">Developer</text><ellipse cx="59.0015" cy="2424.7656" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M59.0015,2432.7656 L59.0015,2459.7656 M46.0015,2440.7656 L72.0015,2440.7656 M59.0015,2459.7656 L46.0015,2474.7656 M59.0015,2459.7656 L72.0015,2474.7656 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.1094" x="188.7778" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.1094" x="195.7778" y="90.9951">Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.0303" x="201.8174" y="107.292">(React)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.1094" x="188.7778" y="2399.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.1094" x="195.7778" y="2419.9639">Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.0303" x="201.8174" y="2436.2607">(React)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76.4873" x="498.7695" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.3613" x="506.8325" y="90.9951">Backend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.4873" x="505.7695" y="107.292">(FastAPI)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76.4873" x="498.7695" y="2399.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.3613" x="506.8325" y="2419.9639">Backend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.4873" x="505.7695" y="2436.2607">(FastAPI)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.4229" x="746.1157" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.4229" x="753.1157" y="107.292">AnalysisService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.4229" x="746.1157" y="2399.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.4229" x="753.1157" y="2419.9639">AnalysisService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.3271" x="994.0596" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.3271" x="1001.0596" y="107.292">OrchestratorAgent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.3271" x="994.0596" y="2399.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.3271" x="1001.0596" y="2419.9639">OrchestratorAgent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112.9297" x="1248.4512" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.9297" x="1255.4512" y="107.292">SecurityAgent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112.9297" x="1248.4512" y="2399.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.9297" x="1255.4512" y="2419.9639">SecurityAgent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.0654" x="1430.0703" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.0654" x="1437.0703" y="107.292">AIExplainerService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.0654" x="1430.0703" y="2399.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.0654" x="1437.0703" y="2419.9639">AIExplainerService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157.6914" x="1646.2954" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.6914" x="1653.2954" y="107.292">MCPContextEnricher</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157.6914" x="1646.2954" y="2399.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.6914" x="1653.2954" y="2419.9639">MCPContextEnricher</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.3506" x="1813.9868" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.3506" x="1820.9868" y="107.292">Gemini API</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.3506" x="1813.9868" y="2399.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.3506" x="1820.9868" y="2419.9639">Gemini API</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.7529" x="1914.3374" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="1921.3374" y="107.292">PostgreSQL</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.7529" x="1914.3374" y="2399.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="1921.3374" y="2419.9639">PostgreSQL</text><rect fill="#FFFFFF" height="168.7969" style="stroke:#181818;stroke-width:1;" width="10" x="222.3325" y="149.7266"/><rect fill="#FFFFFF" height="139.6641" style="stroke:#181818;stroke-width:1;" width="10" x="532.0132" y="178.8594"/><rect fill="#FFFFFF" height="1809.4453" style="stroke:#181818;stroke-width:1;" width="10" x="802.8271" y="435.8594"/><rect fill="#FFFFFF" height="1489.8516" style="stroke:#181818;stroke-width:1;" width="10" x="1061.2231" y="522.2578"/><rect fill="#FFFFFF" height="128.5313" style="stroke:#181818;stroke-width:1;" width="10" x="1299.916" y="667.9219"/><rect fill="#FFFFFF" height="726.6641" style="stroke:#181818;stroke-width:1;" width="10" x="1497.603" y="1169.9141"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1720.1411" y="1280.4453"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1720.1411" y="1338.7109"/><rect fill="#FFFFFF" height="242.7344" style="stroke:#181818;stroke-width:1;" width="10" x="1854.1621" y="1454.2422"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1956.7139" y="377.5938"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1956.7139" y="2056.375"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1956.7139" y="2129.7734"/><polygon fill="#181818" points="210.3325,145.7266,220.3325,149.7266,210.3325,153.7266,214.3325,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="59.0015" x2="216.3325" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.6914" x="93.8213" y="144.6606">Upload .py file</text><polygon fill="#181818" points="520.0132,174.8594,530.0132,178.8594,520.0132,182.8594,524.0132,178.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="232.3325" x2="526.0132" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280.6807" x="241.8325" y="173.7935">POST /api/v1/analyze (multipart/form-data)</text><line style="stroke:#181818;stroke-width:1;" x1="542.0132" x2="584.0132" y1="223.125" y2="223.125"/><line style="stroke:#181818;stroke-width:1;" x1="584.0132" x2="584.0132" y1="223.125" y2="236.125"/><line style="stroke:#181818;stroke-width:1;" x1="543.0132" x2="584.0132" y1="236.125" y2="236.125"/><polygon fill="#181818" points="553.0132,232.125,543.0132,236.125,553.0132,240.125,549.0132,236.125" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3271" x="587.0388" y="202.9263">Validate file</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.3784" x="549.0132" y="218.0591">(extension, size, UTF-8)</text><path d="M10,251.125 L74.4429,251.125 L74.4429,258.2578 L64.4429,268.2578 L10,268.2578 L10,251.125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="2132.8438" style="stroke:#000000;stroke-width:1.5;" width="2009.0903" x="10" y="251.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="264.1919">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="78.0098" x="89.4429" y="263.3354">[File invalid]</text><polygon fill="#181818" points="243.3325,285.3906,233.3325,289.3906,243.3325,293.3906,239.3325,289.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="237.3325" x2="531.0132" y1="289.3906" y2="289.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214.627" x="274.8594" y="284.3247">HTTP 422 (Unprocessable Entity)</text><polygon fill="#181818" points="70.0015,314.5234,60.0015,318.5234,70.0015,322.5234,66.0015,318.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="64.0015" x2="226.3325" y1="318.5234" y2="318.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.3311" x="73.5015" y="313.4575">Show validation error</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="2019.0903" y1="327.5234" y2="327.5234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="66.4082" x="15" y="337.7339">[File valid]</text><polygon fill="#181818" points="1944.7139,373.5938,1954.7139,377.5938,1944.7139,381.5938,1948.7139,377.5938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="537.0132" x2="1950.7139" y1="377.5938" y2="377.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.73" x="1161.9985" y="357.395">Create CodeReview entity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.5498" x="1183.0886" y="372.5278">(status='PENDING')</text><polygon fill="#181818" points="548.0132,402.7266,538.0132,406.7266,548.0132,410.7266,544.0132,406.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="542.0132" x2="1960.7139" y1="406.7266" y2="406.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.7925" x="1194.9673" y="401.6606">review_id (UUID)</text><polygon fill="#181818" points="790.8271,431.8594,800.8271,435.8594,790.8271,439.8594,794.8271,435.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="537.0132" x2="796.8271" y1="435.8594" y2="435.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.0752" x="583.3826" y="430.7935">analyze_code(file, user_id)</text><line style="stroke:#181818;stroke-width:1;" x1="812.8271" x2="854.8271" y1="480.125" y2="480.125"/><line style="stroke:#181818;stroke-width:1;" x1="854.8271" x2="854.8271" y1="480.125" y2="493.125"/><line style="stroke:#181818;stroke-width:1;" x1="813.8271" x2="854.8271" y1="493.125" y2="493.125"/><polygon fill="#181818" points="823.8271,489.125,813.8271,493.125,823.8271,497.125,819.8271,493.125" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.3311" x="832.1765" y="459.9263">Create AnalysisContext</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.0298" x="819.8271" y="475.0591">(analysis_id, code_content)</text><polygon fill="#181818" points="1049.2231,518.2578,1059.2231,522.2578,1049.2231,526.2578,1053.2231,522.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="812.8271" x2="1055.2231" y1="522.2578" y2="522.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.4639" x="840.2932" y="517.1919">orchestrate_analysis(context)</text><line style="stroke:#181818;stroke-width:1;" x1="1071.2231" x2="1113.2231" y1="551.3906" y2="551.3906"/><line style="stroke:#181818;stroke-width:1;" x1="1113.2231" x2="1113.2231" y1="551.3906" y2="564.3906"/><line style="stroke:#181818;stroke-width:1;" x1="1072.2231" x2="1113.2231" y1="564.3906" y2="564.3906"/><polygon fill="#181818" points="1082.2231,560.3906,1072.2231,564.3906,1082.2231,568.3906,1078.2231,564.3906" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.6929" x="1078.2231" y="546.3247">Emit ANALYSIS_STARTED event</text><path d="M1004,577.3906 L1004,617.3906 L1366,617.3906 L1366,587.3906 L1356,577.3906 L1004,577.3906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1356,577.3906 L1356,587.3906 L1366,587.3906 L1356,577.3906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132.0947" x="1057.4146" y="594.4575">Parallel Execution</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.4922" x="1057.4146" y="609.5903">ThreadPoolExecutor(max_workers=4)</text><path d="M984.0596,629.6563 L1053.5488,629.6563 L1053.5488,636.7891 L1043.5488,646.7891 L984.0596,646.7891 L984.0596,629.6563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="307.1953" style="stroke:#000000;stroke-width:1.5;" width="518.5435" x="984.0596" y="629.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24.4893" x="999.0596" y="642.7231">par</text><polygon fill="#181818" points="1287.916,663.9219,1297.916,667.9219,1287.916,671.9219,1291.916,667.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1071.2231" x2="1293.916" y1="667.9219" y2="667.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.6685" x="1130.7354" y="662.856">analyze(context)</text><line style="stroke:#181818;stroke-width:1;" x1="1309.916" x2="1351.916" y1="697.0547" y2="697.0547"/><line style="stroke:#181818;stroke-width:1;" x1="1351.916" x2="1351.916" y1="697.0547" y2="710.0547"/><line style="stroke:#181818;stroke-width:1;" x1="1310.916" x2="1351.916" y1="710.0547" y2="710.0547"/><polygon fill="#181818" points="1320.916,706.0547,1310.916,710.0547,1320.916,714.0547,1316.916,710.0547" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.1396" x="1316.916" y="691.9888">Parse AST</text><line style="stroke:#181818;stroke-width:1;" x1="1309.916" x2="1351.916" y1="754.3203" y2="754.3203"/><line style="stroke:#181818;stroke-width:1;" x1="1351.916" x2="1351.916" y1="754.3203" y2="767.3203"/><line style="stroke:#181818;stroke-width:1;" x1="1310.916" x2="1351.916" y1="767.3203" y2="767.3203"/><polygon fill="#181818" points="1320.916,763.3203,1310.916,767.3203,1320.916,771.3203,1316.916,767.3203" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.1406" x="1329.1892" y="734.1216">Detect vulnerabilities</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.687" x="1316.916" y="749.2544">(eval, SQL injection, etc.)</text><polygon fill="#181818" points="1082.2231,792.4531,1072.2231,796.4531,1082.2231,800.4531,1078.2231,796.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1076.2231" x2="1303.916" y1="796.4531" y2="796.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.8652" x="1126.637" y="791.3872">Return findings list</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="984.0596" x2="1502.603" y1="805.4531" y2="805.4531"/><line style="stroke:#181818;stroke-width:1;" x1="1071.2231" x2="1113.2231" y1="827.5859" y2="827.5859"/><line style="stroke:#181818;stroke-width:1;" x1="1113.2231" x2="1113.2231" y1="827.5859" y2="840.5859"/><line style="stroke:#181818;stroke-width:1;" x1="1072.2231" x2="1113.2231" y1="840.5859" y2="840.5859"/><polygon fill="#181818" points="1082.2231,836.5859,1072.2231,840.5859,1082.2231,844.5859,1078.2231,840.5859" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.5063" x="1078.2231" y="822.52">QualityAgent.analyze()</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="984.0596" x2="1502.603" y1="849.5859" y2="849.5859"/><line style="stroke:#181818;stroke-width:1;" x1="1071.2231" x2="1113.2231" y1="871.7188" y2="871.7188"/><line style="stroke:#181818;stroke-width:1;" x1="1113.2231" x2="1113.2231" y1="871.7188" y2="884.7188"/><line style="stroke:#181818;stroke-width:1;" x1="1072.2231" x2="1113.2231" y1="884.7188" y2="884.7188"/><polygon fill="#181818" points="1082.2231,880.7188,1072.2231,884.7188,1082.2231,888.7188,1078.2231,884.7188" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.126" x="1078.2231" y="866.6528">PerformanceAgent.analyze()</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="984.0596" x2="1502.603" y1="893.7188" y2="893.7188"/><line style="stroke:#181818;stroke-width:1;" x1="1071.2231" x2="1113.2231" y1="915.8516" y2="915.8516"/><line style="stroke:#181818;stroke-width:1;" x1="1113.2231" x2="1113.2231" y1="915.8516" y2="928.8516"/><line style="stroke:#181818;stroke-width:1;" x1="1072.2231" x2="1113.2231" y1="928.8516" y2="928.8516"/><polygon fill="#181818" points="1082.2231,924.8516,1072.2231,928.8516,1082.2231,932.8516,1078.2231,928.8516" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.7065" x="1078.2231" y="910.7856">StyleAgent.analyze()</text><line style="stroke:#181818;stroke-width:1;" x1="1071.2231" x2="1113.2231" y1="964.9844" y2="964.9844"/><line style="stroke:#181818;stroke-width:1;" x1="1113.2231" x2="1113.2231" y1="964.9844" y2="977.9844"/><line style="stroke:#181818;stroke-width:1;" x1="1072.2231" x2="1113.2231" y1="977.9844" y2="977.9844"/><polygon fill="#181818" points="1082.2231,973.9844,1072.2231,977.9844,1082.2231,981.9844,1078.2231,977.9844" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.0635" x="1078.2231" y="959.9185">Aggregate all findings</text><line style="stroke:#181818;stroke-width:1;" x1="1071.2231" x2="1113.2231" y1="1022.25" y2="1022.25"/><line style="stroke:#181818;stroke-width:1;" x1="1113.2231" x2="1113.2231" y1="1022.25" y2="1035.25"/><line style="stroke:#181818;stroke-width:1;" x1="1072.2231" x2="1113.2231" y1="1035.25" y2="1035.25"/><polygon fill="#181818" points="1082.2231,1031.25,1072.2231,1035.25,1082.2231,1039.25,1078.2231,1035.25" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.0361" x="1078.2231" y="1002.0513">Calculate quality_score</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.4067" x="1102.5378" y="1017.1841">(0-100 formula)</text><line style="stroke:#181818;stroke-width:1;" x1="1071.2231" x2="1113.2231" y1="1079.5156" y2="1079.5156"/><line style="stroke:#181818;stroke-width:1;" x1="1113.2231" x2="1113.2231" y1="1079.5156" y2="1092.5156"/><line style="stroke:#181818;stroke-width:1;" x1="1072.2231" x2="1113.2231" y1="1092.5156" y2="1092.5156"/><polygon fill="#181818" points="1082.2231,1088.5156,1072.2231,1092.5156,1082.2231,1096.5156,1078.2231,1092.5156" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.8291" x="1109.4758" y="1059.3169">Filter findings</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.3345" x="1078.2231" y="1074.4497">(severity == CRITICAL)</text><path d="M974.0596,1107.5156 L1038.5024,1107.5156 L1038.5024,1114.6484 L1028.5024,1124.6484 L974.0596,1124.6484 L974.0596,1107.5156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="861.3281" style="stroke:#000000;stroke-width:1.5;" width="970.2778" x="974.0596" y="1107.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="989.0596" y="1120.5825">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="242.7788" x="1053.5024" y="1119.7261">[Critical findings exist AND AI enabled]</text><path d="M984.0596,1131.6484 L1060.6836,1131.6484 L1060.6836,1138.7813 L1050.6836,1148.7813 L984.0596,1148.7813 L984.0596,1131.6484 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="830.1953" style="stroke:#000000;stroke-width:1.5;" width="950.2778" x="984.0596" y="1131.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="999.0596" y="1144.7153">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="157.4697" x="1075.6836" y="1143.8589">[For each critical finding]</text><polygon fill="#181818" points="1485.603,1165.9141,1495.603,1169.9141,1485.603,1173.9141,1489.603,1169.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1071.2231" x2="1491.603" y1="1169.9141" y2="1169.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.9487" x="1185.9387" y="1164.8481">generate_explanation(finding)</text><line style="stroke:#181818;stroke-width:1;" x1="1507.603" x2="1549.603" y1="1214.1797" y2="1214.1797"/><line style="stroke:#181818;stroke-width:1;" x1="1549.603" x2="1549.603" y1="1214.1797" y2="1227.1797"/><line style="stroke:#181818;stroke-width:1;" x1="1508.603" x2="1549.603" y1="1227.1797" y2="1227.1797"/><polygon fill="#181818" points="1518.603,1223.1797,1508.603,1227.1797,1518.603,1231.1797,1514.603,1227.1797" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.2183" x="1514.603" y="1193.981">Check RedisCache</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.229" x="1530.0977" y="1209.1138">(SHA256 key)</text><path d="M1400.0703,1242.1797 L1464.5132,1242.1797 L1464.5132,1249.3125 L1454.5132,1259.3125 L1400.0703,1259.3125 L1400.0703,1242.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="626.2656" style="stroke:#000000;stroke-width:1.5;" width="524.2671" x="1400.0703" y="1242.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="1415.0703" y="1255.2466">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="79.519" x="1479.5132" y="1254.3901">[Cache miss]</text><polygon fill="#181818" points="1708.1411,1276.4453,1718.1411,1280.4453,1708.1411,1284.4453,1712.1411,1280.4453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1507.603" x2="1714.1411" y1="1280.4453" y2="1280.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.8896" x="1543.9272" y="1275.3794">query_owasp(cwe_id)</text><polygon fill="#181818" points="1518.603,1305.5781,1508.603,1309.5781,1518.603,1313.5781,1514.603,1309.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1512.603" x2="1724.1411" y1="1309.5781" y2="1309.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.3511" x="1522.6965" y="1304.5122">OWASP mitigation strategies</text><polygon fill="#181818" points="1708.1411,1334.7109,1718.1411,1338.7109,1708.1411,1342.7109,1712.1411,1338.7109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1507.603" x2="1714.1411" y1="1338.7109" y2="1338.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.2124" x="1554.7659" y="1333.645">query_cve(cve_id)</text><polygon fill="#181818" points="1518.603,1363.8438,1508.603,1367.8438,1518.603,1371.8438,1514.603,1367.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1512.603" x2="1724.1411" y1="1367.8438" y2="1367.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.8271" x="1535.4585" y="1362.7778">CVE examples from NIST</text><line style="stroke:#181818;stroke-width:1;" x1="1507.603" x2="1549.603" y1="1412.1094" y2="1412.1094"/><line style="stroke:#181818;stroke-width:1;" x1="1549.603" x2="1549.603" y1="1412.1094" y2="1425.1094"/><line style="stroke:#181818;stroke-width:1;" x1="1508.603" x2="1549.603" y1="1425.1094" y2="1425.1094"/><polygon fill="#181818" points="1518.603,1421.1094,1508.603,1425.1094,1518.603,1429.1094,1514.603,1425.1094" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.6592" x="1514.603" y="1391.9106">Build Gemini prompt</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5161" x="1533.6746" y="1407.0435">+ MCP context</text><polygon fill="#181818" points="1842.1621,1450.2422,1852.1621,1454.2422,1842.1621,1458.2422,1846.1621,1454.2422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1507.603" x2="1848.1621" y1="1454.2422" y2="1454.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.8721" x="1594.4465" y="1449.1763">generate_content(prompt)</text><path d="M1410.0703,1469.2422 L1474.5132,1469.2422 L1474.5132,1476.375 L1464.5132,1486.375 L1410.0703,1486.375 L1410.0703,1469.2422 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="220.7344" style="stroke:#000000;stroke-width:1.5;" width="504.2671" x="1410.0703" y="1469.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="1425.0703" y="1482.3091">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="82.5269" x="1489.5132" y="1481.4526">[API success]</text><polygon fill="#181818" points="1518.603,1518.6406,1508.603,1522.6406,1518.603,1526.6406,1514.603,1522.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1512.603" x2="1853.1621" y1="1522.6406" y2="1522.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.5068" x="1633.1292" y="1502.4419">JSON response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.9189" x="1547.4231" y="1517.5747">{explanation, attack_example, fix_code}</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1410.0703" x2="1914.3374" y1="1531.6406" y2="1531.6406"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="197.4307" x="1415.0703" y="1541.8511">[API error (rate limit / timeout)]</text><polygon fill="#181818" points="1518.603,1562.5781,1508.603,1566.5781,1518.603,1570.5781,1514.603,1566.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1512.603" x2="1853.1621" y1="1566.5781" y2="1566.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3398" x="1635.7126" y="1561.5122">Error 429/504</text><line style="stroke:#181818;stroke-width:1;" x1="1507.603" x2="1549.603" y1="1595.7109" y2="1595.7109"/><line style="stroke:#181818;stroke-width:1;" x1="1549.603" x2="1549.603" y1="1595.7109" y2="1608.7109"/><line style="stroke:#181818;stroke-width:1;" x1="1508.603" x2="1549.603" y1="1608.7109" y2="1608.7109"/><polygon fill="#181818" points="1518.603,1604.7109,1508.603,1608.7109,1518.603,1612.7109,1514.603,1608.7109" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.6519" x="1514.603" y="1590.645">Retry up to 3 times</text><path d="M1420.0703,1623.7109 L1484.5132,1623.7109 L1484.5132,1630.8438 L1474.5132,1640.8438 L1420.0703,1640.8438 L1420.0703,1623.7109 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="289.9189" x="1420.0703" y="1623.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="1435.0703" y="1636.7778">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="123.0571" x="1499.5132" y="1635.9214">[Retries exhausted]</text><line style="stroke:#181818;stroke-width:1;" x1="1507.603" x2="1549.603" y1="1661.9766" y2="1661.9766"/><line style="stroke:#181818;stroke-width:1;" x1="1549.603" x2="1549.603" y1="1661.9766" y2="1674.9766"/><line style="stroke:#181818;stroke-width:1;" x1="1508.603" x2="1549.603" y1="1674.9766" y2="1674.9766"/><polygon fill="#181818" points="1518.603,1670.9766,1508.603,1674.9766,1518.603,1678.9766,1514.603,1674.9766" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.3862" x="1514.603" y="1656.9106">Fallback to static template</text><line style="stroke:#181818;stroke-width:1;" x1="1507.603" x2="1549.603" y1="1733.2422" y2="1733.2422"/><line style="stroke:#181818;stroke-width:1;" x1="1549.603" x2="1549.603" y1="1733.2422" y2="1746.2422"/><line style="stroke:#181818;stroke-width:1;" x1="1508.603" x2="1549.603" y1="1746.2422" y2="1746.2422"/><polygon fill="#181818" points="1518.603,1742.2422,1508.603,1746.2422,1518.603,1750.2422,1514.603,1746.2422" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.3853" x="1540.384" y="1713.0435">Parse response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.9473" x="1514.603" y="1728.1763">to AIExplanation object</text><line style="stroke:#181818;stroke-width:1;" x1="1507.603" x2="1549.603" y1="1790.5078" y2="1790.5078"/><line style="stroke:#181818;stroke-width:1;" x1="1549.603" x2="1549.603" y1="1790.5078" y2="1803.5078"/><line style="stroke:#181818;stroke-width:1;" x1="1508.603" x2="1549.603" y1="1803.5078" y2="1803.5078"/><polygon fill="#181818" points="1518.603,1799.5078,1508.603,1803.5078,1518.603,1807.5078,1514.603,1803.5078" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.2114" x="1514.603" y="1770.3091">Cache in Redis</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6245" x="1515.3965" y="1785.4419">(TTL 24 hours)</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1400.0703" x2="1924.3374" y1="1812.5078" y2="1812.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="68.0518" x="1405.0703" y="1822.7183">[Cache hit]</text><line style="stroke:#181818;stroke-width:1;" x1="1507.603" x2="1549.603" y1="1847.4453" y2="1847.4453"/><line style="stroke:#181818;stroke-width:1;" x1="1549.603" x2="1549.603" y1="1847.4453" y2="1860.4453"/><line style="stroke:#181818;stroke-width:1;" x1="1508.603" x2="1549.603" y1="1860.4453" y2="1860.4453"/><polygon fill="#181818" points="1518.603,1856.4453,1508.603,1860.4453,1518.603,1864.4453,1514.603,1860.4453" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.5381" x="1514.603" y="1842.3794">Return cached AIExplanation</text><polygon fill="#181818" points="1082.2231,1892.5781,1072.2231,1896.5781,1082.2231,1900.5781,1078.2231,1896.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1076.2231" x2="1501.603" y1="1896.5781" y2="1896.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.6553" x="1218.0854" y="1891.5122">Return AIExplanation</text><line style="stroke:#181818;stroke-width:1;" x1="1071.2231" x2="1113.2231" y1="1940.8438" y2="1940.8438"/><line style="stroke:#181818;stroke-width:1;" x1="1113.2231" x2="1113.2231" y1="1940.8438" y2="1953.8438"/><line style="stroke:#181818;stroke-width:1;" x1="1072.2231" x2="1113.2231" y1="1953.8438" y2="1953.8438"/><polygon fill="#181818" points="1082.2231,1949.8438,1072.2231,1953.8438,1082.2231,1957.8438,1078.2231,1953.8438" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.2798" x="1078.2231" y="1920.645">Attach ai_explanation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.1582" x="1095.7839" y="1935.7778">to finding object</text><polygon fill="#181818" points="823.8271,2008.1094,813.8271,2012.1094,823.8271,2016.1094,819.8271,2012.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="817.8271" x2="1065.2231" y1="2012.1094" y2="2012.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.3306" x="875.3599" y="1991.9106">Return CodeReview</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.687" x="838.1816" y="2007.0435">with findings + AI explanations</text><polygon fill="#181818" points="1944.7139,2052.375,1954.7139,2056.375,1944.7139,2060.375,1948.7139,2056.375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="812.8271" x2="1950.7139" y1="2056.375" y2="2056.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.8164" x="1320.8623" y="2036.1763">Persist CodeReview</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.1162" x="1310.7124" y="2051.3091">(status='COMPLETED')</text><polygon fill="#181818" points="823.8271,2081.5078,813.8271,2085.5078,823.8271,2089.5078,819.8271,2085.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="817.8271" x2="1960.7139" y1="2085.5078" y2="2085.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.3301" x="1361.1055" y="2080.4419">Success</text><polygon fill="#181818" points="1944.7139,2125.7734,1954.7139,2129.7734,1944.7139,2133.7734,1948.7139,2129.7734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="812.8271" x2="1950.7139" y1="2129.7734" y2="2129.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.1777" x="1313.1816" y="2109.5747">Persist agent_findings</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.042" x="1340.7495" y="2124.7075">(batch insert)</text><polygon fill="#181818" points="823.8271,2154.9063,813.8271,2158.9063,823.8271,2162.9063,819.8271,2158.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="817.8271" x2="1960.7139" y1="2158.9063" y2="2158.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.3301" x="1361.1055" y="2153.8403">Success</text><line style="stroke:#181818;stroke-width:1;" x1="812.8271" x2="854.8271" y1="2188.0391" y2="2188.0391"/><line style="stroke:#181818;stroke-width:1;" x1="854.8271" x2="854.8271" y1="2188.0391" y2="2201.0391"/><line style="stroke:#181818;stroke-width:1;" x1="813.8271" x2="854.8271" y1="2201.0391" y2="2201.0391"/><polygon fill="#181818" points="823.8271,2197.0391,813.8271,2201.0391,823.8271,2205.0391,819.8271,2201.0391" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.396" x="819.8271" y="2182.9731">Emit ANALYSIS_COMPLETED event</text><polygon fill="#181818" points="548.0132,2241.3047,538.0132,2245.3047,548.0132,2249.3047,544.0132,2245.3047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="542.0132" x2="806.8271" y1="2245.3047" y2="2245.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.8286" x="607.5059" y="2225.106">Return AnalysisDTO</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241.814" x="551.5132" y="2240.2388">{analysis_id, quality_score, findings}</text><polygon fill="#181818" points="238.3325,2285.5703,228.3325,2289.5703,238.3325,2293.5703,234.3325,2289.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="232.3325" x2="536.0132" y1="2289.5703" y2="2289.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.4419" x="350.9519" y="2269.3716">HTTP 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278.04" x="243.1528" y="2284.5044">{analysis_id, quality_score, total_findings}</text><line style="stroke:#181818;stroke-width:1;" x1="227.3325" x2="269.3325" y1="2318.7031" y2="2318.7031"/><line style="stroke:#181818;stroke-width:1;" x1="269.3325" x2="269.3325" y1="2318.7031" y2="2331.7031"/><line style="stroke:#181818;stroke-width:1;" x1="228.3325" x2="269.3325" y1="2331.7031" y2="2331.7031"/><polygon fill="#181818" points="238.3325,2327.7031,228.3325,2331.7031,238.3325,2335.7031,234.3325,2331.7031" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198.2119" x="234.3325" y="2313.6372">Redirect to Results Dashboard</text><polygon fill="#181818" points="70.0015,2371.9688,60.0015,2375.9688,70.0015,2379.9688,66.0015,2375.9688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="64.0015" x2="226.3325" y1="2375.9688" y2="2375.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.6064" x="91.3638" y="2355.77">Display findings</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.9741" x="77.1799" y="2370.9028">with AI explanations</text><!--SRC=[hLXPRzj647xNhnYa3v4SENPSfsWDk01r9IfyAAQSe400OKsEfQqfBhExbAmK-U-TML8KISbMWbHFvkuStzopDWyoJeGMSp3u9SKum4iqHapHY-GqXW1ZYxfX2YgD9b6nMLDrC59BJskr1AjJB17UYU1XgbKQXrqLAGs_3DolqR3IHWX-hWrwKaoP_X2wQfv4Q97-216yM4Gh8mryKlhXdhJ0KjePU4FeFoQHY8MLAcuqH619-8iUBWX9Wle520FqrI0KLWOo4R655mEjo8uu_1mtRv1OMeviqAzITGXoHZGGndgZOKRMgP6jaVce5p90H-FvLPfh7SpGM2q8dJSb9pegFgtI-HYaMjhLXePEt4TDvz1PBMFK5RLyNAMyx8wwREoZxSTQ4ehC9NHSfNk7SnbB82lTVVPP9HafOwSQ_GyNcLSxZGPv5Wx_9C-TmMqIAH72wsG5zp92ZeHS20eVkRKnw3DPXyX6r_uOZaGYZnPlZWIxxYj2Svv6LhAoetkbvuUXiAAraK0URtGA2Hz594C-PZKK738DOqFHRuEHNx4Dj-F1uUyjoeN8me1eGCOBvca0_LXEZlZzU3o2qvCJQDx6YLO1f_0TaVTZoibLov4FCdAoympy6MNT8jDEwW0fpxMZ2h6CjNP2zcDaC8DI1KA2EsVGrIZoDB_1XSGbe4D0jXahR6hENuxwLxtXrRkN6QX2D8M0ltiT1vATevs0YGp9gDjXhrK7atEK47Z-6UHnc0G4eSbkRKDgK9EOcaBAwuBTyzVikG7hGiZpZU2B_8G4jO65amOkFDkgY-5IE0DLb0bErhpD81DNG-9gfn32Nnin_Rcqu5rv5t_xGt_YZxsRSRy7r1AeZ0gMM94KjK3jcDgRGeFyTt0meiuLHHXHYw6wv9WV71JNunbP7OwKYh9RfPjpyJXPKdj2RSvFCxpKFvocZLxAyaB66lPQTn69gj4LmxTmhW-gWWYxuNYDzz3rgCC65XPfHBr4tCb8Mec6oufIbRpouOBAvnyYSGM6DdZTsY6nSFqDsbJ7L9fnAEEfWKYQ3T9I7bQiuFBOyaacxqDA1PFtmzThvxJsSOrGSnyHD51-aDEtgsWtJnm-bMxUbBhYbAsYR2bCtq7O5L6GHapu9JDhOWAbkOST7xuvFWR6JFUjfnHH1w7fMsZW_a19pVC2pi-XUpCS3xlUHOcTEs2NxcKWDi007oaeL1yzdfuOSyyB2tT4IYKme1bAiPf1K6CkoChWtDGv0t8Qkih5pK1kvdoj2kEcdRXvLRwgVBZhaeRk38C7Ih6GUWoXOyVvxxsJjx_10wvQJyjnRc06c4jZAbSLDJGKpoWqg5SJjHGcQGPBB7hWJWDuZDOlwSmLH0xw-fFdZqYnbTDiR6JzRKfLjiLQAf1TahyBUR2Wxh7uUTpTZttA5C4xc85xhUPmDInrav-6dAlff38AytK3Q0hF4neShnoOl0V-WCnCJ2aLyt7Jp0G_uv1ytzchYbE9TYGmQS3xmjOz_t9ZIhxyox- -AbRbp_6_fGffWx2M5ir9xkisbTgZ6yJVjeIxDOArkyq3ccmYTLYUTaTWvHnLkiF6tP3wJiJfoHz7RuzFT_BK8qMjNQyWJS0g-DMfssq-kuXfAS4fWMOYDRRKN_Pf6L0FvRS2Q-7jHmPWaHmZBEwKiUxB-yvAUVgziQv3oqRg9eo4CD_3ir22kkD1kLTErefad7KoQcBZyGMSdC9CfTfKu-SYdj7Fv7x9-VGDc26iWciyvw1TNRS-qf-MLdBjdePUcvkS-3CGiZmnd5lpgL5tw1hsZbcSRw8vriqg_JbspyHYzhroCs-ZpjGNvEfUcIsdlAJJIc5uR9P55-jvz_foTD6d9VFv1PqH-gN6ySHUlgrKy48oAStzEs79QabfgEt_fvA9gxjpOLXzUsQ6_CcnpezyN- -Dhwd3LJR_ohRJBeBnhOwe_BgelzDEZe_tYBNAYcZofF3yOLQywZBPN8AQ5s3AkXiqz0obXwqmipibTBZr0kn9GvcpAcrWwtz2F9TI_02aZFqF]--></g></svg>